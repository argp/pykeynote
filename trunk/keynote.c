/* Generated by Pyrex 0.9.4.1 on Wed Jul 25 14:01:41 2007 */

#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
__PYX_EXTERN_C double pow(double, double);
#include "regex.h"
#include "keynote.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/
static PyObject *__Pyx_UnpackItem(PyObject *, int); /*proto*/
static int __Pyx_EndUnpack(PyObject *, int); /*proto*/
static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static void __Pyx_ReRaise(void); /*proto*/
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/
static PyObject *__Pyx_GetExcValue(void); /*proto*/
static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/
static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/
static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[], int nargs, PyObject **args2, PyObject **kwds2); /*proto*/
static void __Pyx_WriteUnraisable(char *name); /*proto*/
static void __Pyx_AddTraceback(char *funcname); /*proto*/
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/
static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/
static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/
static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/
static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
static char **__pyx_f;

static char __pyx_mdoc[] = "Python extension module for the KeyNote trust management system\n\nThis is a Python extension module for KeyNote.  It provides a\nhigh-level object-oriented interface to the KeyNote trust management\nAPI.  From the KeyNote web page:\n\n  Trust management is a unified approach to specifying and\n  interpreting security policies, credentials, and relationships; it\n  allows direct authorization of security-critical actions.  KeyNote\n  credentials describe a specific delegation of trust and subsume the\n  role of public key certificates; unlike traditional certificates,\n  which bind keys to names, credentials can bind keys directly to the\n  authorization to perform specific tasks.\n\nFor more information, see RFC 2704, keynote(1), keynote(3), keynote(4)\nand keynote(5).\n\nAlthough pykeynote has been developed on Linux and minimally tested on\nOpenBSD, it will probably work on all Unix-like systems that satisfy\nthe following requirements:\n\nPython 2.3 or higher.\n\nPyrex (optional) version 0.9.4 or above available from:\n\nhttp://www.cosc.canterbury.ac.nz/~greg/python/Pyrex/\n\nThe KeyNote trust management system (tested with version 2.3) available\nfrom:\n\nhttp://www1.cs.columbia.edu/~angelos/keynote.html\n\nThe OpenSSL cryptographic toolkit (tested with version 0.9.8d) available\nfrom:\n\nhttp://www.openssl.org/\n";

/* Declarations from keynote */


struct __pyx_obj_7keynote_keynote {
  PyObject_HEAD
  int session;
  int keynote_errno;
  PyObject *callbacks;
};


struct __pyx_obj_7keynote_deckey {
  PyObject_HEAD
  struct keynote_deckey (*dc);
  char (*key_stringkey);
  int key_type;
};

static PyTypeObject *__pyx_ptype_7keynote_keynote = 0;
static PyTypeObject *__pyx_ptype_7keynote_deckey = 0;
static PyObject *__pyx_k24;
static PyObject *__pyx_k25;
static PyObject *__pyx_k26;
static PyObject *__pyx_k27;
static PyObject *__pyx_k28;
static PyObject *__pyx_k29;
static PyObject *__pyx_k30;
static PyObject *__pyx_k31;
static PyObject *__pyx_k32;
static PyObject *__pyx_k33;
static PyObject *__pyx_k34;

/* Implementation of keynote */

static char (__pyx_k1[]) = "Algorithm type (KEYNOTE_ALGORITHM_*) integer.";
static char (__pyx_k2[]) = "Object that stores a pointer to a binary key.";
static char (__pyx_k3[]) = "Key type, i.e. public or private.";
static char (__pyx_k4[]) = "ASCII-encoded representation of the binary key.";
static char (__pyx_k5[]) = "Patroklos Argyroudis <argp at domain cs.tcd.ie>";
static char (__pyx_k6[]) = "Copyright (c) 2007 Patroklos Argyroudis";
static char (__pyx_k8[]) = "http://code.google.com/p/pykeynote/";
static char (__pyx_k9[]) = "1.0";
static char (__pyx_k10[]) = "sig-dsa-sha1-hex:";
static char (__pyx_k11[]) = "sig-dsa-sha1-base64:";
static char (__pyx_k12[]) = "sig-rsa-sha1-hex:";
static char (__pyx_k13[]) = "sig-rsa-sha1-base64:";
static char (__pyx_k14[]) = "sig-rsa-md5-hex:";
static char (__pyx_k15[]) = "sig-rsa-md5-base64:";
static char (__pyx_k16[]) = "sig-elgamal-sha1-hex:";
static char (__pyx_k17[]) = "sig-elgamal-sha1-base64:";
static char (__pyx_k18[]) = "sig-pgp:";
static char (__pyx_k19[]) = "sig-x509-sha1-hex:";
static char (__pyx_k20[]) = "sig-x509-sha1-base64:";
static char (__pyx_k21[]) = "2";
static char (__pyx_k36[]) = "keynote_error() -> A KeyNote error exception object\n\n    Create a new KeyNote error exception object.\n\n    Arguments:\n    knerrno -- keynote_errno integer\n    ";

static PyObject *__pyx_n___author__;
static PyObject *__pyx_n___copyright__;
static PyObject *__pyx_n___license__;
static PyObject *__pyx_n___url__;
static PyObject *__pyx_n___version__;
static PyObject *__pyx_n_SIG_DSA_SHA1_HEX;
static PyObject *__pyx_n_SIG_DSA_SHA1_HEX_LEN;
static PyObject *__pyx_n_SIG_DSA_SHA1_BASE64;
static PyObject *__pyx_n_SIG_DSA_SHA1_BASE64_LEN;
static PyObject *__pyx_n_SIG_RSA_SHA1_PKCS1_HEX;
static PyObject *__pyx_n_SIG_RSA_SHA1_PKCS1_HEX_LEN;
static PyObject *__pyx_n_SIG_RSA_SHA1_PKCS1_BASE64;
static PyObject *__pyx_n_SIG_RSA_SHA1_PKCS1_BASE64_LEN;
static PyObject *__pyx_n_SIG_RSA_MD5_PKCS1_HEX;
static PyObject *__pyx_n_SIG_RSA_MD5_PKCS1_HEX_LEN;
static PyObject *__pyx_n_SIG_RSA_MD5_PKCS1_BASE64;
static PyObject *__pyx_n_SIG_RSA_MD5_PKCS1_BASE64_LEN;
static PyObject *__pyx_n_SIG_ELGAMAL_SHA1_HEX;
static PyObject *__pyx_n_SIG_ELGAMAL_SHA1_HEX_LEN;
static PyObject *__pyx_n_SIG_ELGAMAL_SHA1_BASE64;
static PyObject *__pyx_n_SIG_ELGAMAL_SHA1_BASE64_LEN;
static PyObject *__pyx_n_SIG_PGP_NATIVE;
static PyObject *__pyx_n_SIG_PGP_NATIVE_LEN;
static PyObject *__pyx_n_SIG_X509_SHA1_HEX;
static PyObject *__pyx_n_SIG_X509_SHA1_HEX_LEN;
static PyObject *__pyx_n_SIG_X509_SHA1_BASE64;
static PyObject *__pyx_n_SIG_X509_SHA1_BASE64_LEN;
static PyObject *__pyx_n_ENVIRONMENT_FLAG_FUNC;
static PyObject *__pyx_n_ENVIRONMENT_FLAG_REGEX;
static PyObject *__pyx_n_ASSERT_FLAG_LOCAL;
static PyObject *__pyx_n_ASSERT_FLAG_SIGGEN;
static PyObject *__pyx_n_ASSERT_FLAG_SIGVER;
static PyObject *__pyx_n_SIGRESULT_UNTOUCHED;
static PyObject *__pyx_n_SIGRESULT_FALSE;
static PyObject *__pyx_n_SIGRESULT_TRUE;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_UNSPEC;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_NONE;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_DSA;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_ELGAMAL;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_PGP;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_BINARY;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_X509;
static PyObject *__pyx_n_KEYNOTE_ALGORITHM_RSA;
static PyObject *__pyx_n_KEYNOTE_ERROR_ANY;
static PyObject *__pyx_n_KEYNOTE_ERROR_SYNTAX;
static PyObject *__pyx_n_KEYNOTE_ERROR_MEMORY;
static PyObject *__pyx_n_KEYNOTE_ERROR_SIGNATURE;
static PyObject *__pyx_n_ENCODING_NONE;
static PyObject *__pyx_n_ENCODING_HEX;
static PyObject *__pyx_n_ENCODING_BASE64;
static PyObject *__pyx_n_ENCODING_NATIVE;
static PyObject *__pyx_n_RESULT_FALSE;
static PyObject *__pyx_n_RESULT_TRUE;
static PyObject *__pyx_n_INTERNAL_ENC_NONE;
static PyObject *__pyx_n_INTERNAL_ENC_PKCS1;
static PyObject *__pyx_n_INTERNAL_ENC_ASN1;
static PyObject *__pyx_n_INTERNAL_ENC_NATIVE;
static PyObject *__pyx_n_KEYNOTE_PUBLIC_KEY;
static PyObject *__pyx_n_KEYNOTE_PRIVATE_KEY;
static PyObject *__pyx_n_KEYNOTE_VERSION_STRING;
static PyObject *__pyx_n_ERROR_MEMORY;
static PyObject *__pyx_n_ERROR_SYNTAX;
static PyObject *__pyx_n_ERROR_NOTFOUND;
static PyObject *__pyx_n_ERROR_SIGN_FAILURE;
static PyObject *__pyx_n_KEYNOTE_CALLBACK_INITIALIZE;
static PyObject *__pyx_n_KEYNOTE_CALLBACK_CLEANUP;
static PyObject *__pyx_n_keynote_error;
static PyObject *__pyx_n_BSD;
static PyObject *__pyx_n_len;
static PyObject *__pyx_n__KEYNOTE_CALLBACK_INITIALIZE;
static PyObject *__pyx_n__KEYNOTE_CALLBACK_CLEANUP;
static PyObject *__pyx_n_RuntimeError;
static PyObject *__pyx_n___init__;
static PyObject *__pyx_n___str__;

static PyObject *__pyx_k5p;
static PyObject *__pyx_k6p;
static PyObject *__pyx_k8p;
static PyObject *__pyx_k9p;
static PyObject *__pyx_k10p;
static PyObject *__pyx_k11p;
static PyObject *__pyx_k12p;
static PyObject *__pyx_k13p;
static PyObject *__pyx_k14p;
static PyObject *__pyx_k15p;
static PyObject *__pyx_k16p;
static PyObject *__pyx_k17p;
static PyObject *__pyx_k18p;
static PyObject *__pyx_k19p;
static PyObject *__pyx_k20p;
static PyObject *__pyx_k21p;
static PyObject *__pyx_k36p;

static int __pyx_f_7keynote_7keynote___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7keynote_7keynote___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":196 */
  ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session = kn_init();

  /* "/home/argp/projects/pykeynote/keynote.pyx":197 */
  __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L1;}
  Py_DECREF(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks);
  ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks = __pyx_1;
  __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":199 */
  __pyx_2 = (((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session < 0);
  if (__pyx_2) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":200 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":201 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n___callback_cleanup;

static PyObject *__pyx_f_7keynote_7keynote_close(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_close[] = "Close the session associated with the calling object.\n        Note that this method should be called if you want any\n        callback functions that may have been registered to be\n        called with KEYNOTE_CALLBACK_CLEANUP.  Otherwise, the\n        destructor is sufficient to correctly close the session.\n        ";
static PyObject *__pyx_f_7keynote_7keynote_close(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":210 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___callback_cleanup); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":211 */
  __pyx_1 = PyInt_FromLong(kn_close(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 211; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_1;
  __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":213 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
  __pyx_4 = __pyx_4 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":214 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":215 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
    __pyx_1 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 215; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("keynote.keynote.close");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_find;
static PyObject *__pyx_n_append;

static PyObject *__pyx_k37p;
static PyObject *__pyx_k38p;
static PyObject *__pyx_k39p;
static PyObject *__pyx_k40p;
static PyObject *__pyx_k41p;
static PyObject *__pyx_k42p;
static PyObject *__pyx_k43p;
static PyObject *__pyx_k44p;
static PyObject *__pyx_k45p;
static PyObject *__pyx_k46p;
static PyObject *__pyx_k47p;
static PyObject *__pyx_k48p;
static PyObject *__pyx_k49p;

static char (__pyx_k37[]) = "";
static char (__pyx_k38[]) = "";
static char (__pyx_k39[]) = "\n";
static char (__pyx_k40[]) = "\n";
static char (__pyx_k41[]) = "";
static char (__pyx_k42[]) = "";
static char (__pyx_k43[]) = "\n";
static char (__pyx_k44[]) = "";
static char (__pyx_k45[]) = "\n";
static char (__pyx_k46[]) = "\n";
static char (__pyx_k47[]) = "";
static char (__pyx_k48[]) = "\n";
static char (__pyx_k49[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_read_asserts(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_read_asserts[] = "Parse the given string and return a list of strings\n        containing copies of the assertions found in the input.\n\n        Arguments:\n        str -- string containing assertions\n        ";
static PyObject *__pyx_f_7keynote_7keynote_read_asserts(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_str = 0;
  PyObject *__pyx_v_assertions;
  PyObject *__pyx_v_assertion;
  PyObject *__pyx_v_pos;
  PyObject *__pyx_v_line;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"str",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_str)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_str);
  __pyx_v_assertions = Py_None; Py_INCREF(Py_None);
  __pyx_v_assertion = Py_None; Py_INCREF(Py_None);
  __pyx_v_pos = Py_None; Py_INCREF(Py_None);
  __pyx_v_line = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":224 */
  __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 224; goto __pyx_L1;}
  Py_DECREF(__pyx_v_assertions);
  __pyx_v_assertions = __pyx_1;
  __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":225 */
  Py_INCREF(__pyx_k37p);
  Py_DECREF(__pyx_v_assertion);
  __pyx_v_assertion = __pyx_k37p;

  /* "/home/argp/projects/pykeynote/keynote.pyx":227 */
  if (PyObject_Cmp(__pyx_v_str, __pyx_k38p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 227; goto __pyx_L1;}
  __pyx_2 = __pyx_2 == 0;
  if (__pyx_2) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":228 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; goto __pyx_L1;}
    __pyx_2 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 228; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_2;

    /* "/home/argp/projects/pykeynote/keynote.pyx":229 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":231 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_str, __pyx_n_find); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; goto __pyx_L1;}
  Py_INCREF(__pyx_k39p);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_k39p);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_v_pos);
  __pyx_v_pos = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":233 */
  while (1) {
    __pyx_L3:;
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_pos, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    __pyx_2 = __pyx_2 >= 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (!__pyx_2) break;

    /* "/home/argp/projects/pykeynote/keynote.pyx":234 */
    __pyx_4 = PyInt_FromLong(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
    __pyx_3 = PyNumber_Add(__pyx_v_pos, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = PySequence_GetSlice(__pyx_v_str, 0, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 234; goto __pyx_L1;}
    Py_DECREF(__pyx_v_line);
    __pyx_v_line = __pyx_1;
    __pyx_1 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":235 */
    __pyx_4 = PyInt_FromLong(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 235; goto __pyx_L1;}
    __pyx_3 = PyNumber_Add(__pyx_v_pos, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 235; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_2 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 235; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_1 = PySequence_GetSlice(__pyx_v_str, __pyx_2, 0x7fffffff); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 235; goto __pyx_L1;}
    Py_DECREF(__pyx_v_str);
    __pyx_v_str = __pyx_1;
    __pyx_1 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":237 */
    if (PyObject_Cmp(__pyx_v_line, __pyx_k40p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    if (!__pyx_2) {
      if (PyObject_Cmp(__pyx_v_line, __pyx_k41p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
      __pyx_2 = __pyx_2 == 0;
    }
    if (__pyx_2) {

      /* "/home/argp/projects/pykeynote/keynote.pyx":238 */
      __pyx_4 = PyObject_GetAttr(__pyx_v_assertions, __pyx_n_append); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; goto __pyx_L1;}
      Py_INCREF(__pyx_v_assertion);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_assertion);
      __pyx_1 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;

      /* "/home/argp/projects/pykeynote/keynote.pyx":239 */
      Py_INCREF(__pyx_k42p);
      Py_DECREF(__pyx_v_assertion);
      __pyx_v_assertion = __pyx_k42p;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/home/argp/projects/pykeynote/keynote.pyx":241 */
    if (PyObject_Cmp(__pyx_v_line, __pyx_k43p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L1;}
    __pyx_2 = __pyx_2 != 0;
    if (__pyx_2) {
      if (PyObject_Cmp(__pyx_v_line, __pyx_k44p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 241; goto __pyx_L1;}
      __pyx_2 = __pyx_2 != 0;
    }
    if (__pyx_2) {

      /* "/home/argp/projects/pykeynote/keynote.pyx":242 */
      __pyx_4 = PyNumber_Add(__pyx_v_assertion, __pyx_v_line); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; goto __pyx_L1;}
      Py_DECREF(__pyx_v_assertion);
      __pyx_v_assertion = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/home/argp/projects/pykeynote/keynote.pyx":244 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_str, __pyx_n_find); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
    __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
    Py_INCREF(__pyx_k45p);
    PyTuple_SET_ITEM(__pyx_1, 0, __pyx_k45p);
    __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_v_pos);
    __pyx_v_pos = __pyx_4;
    __pyx_4 = 0;
  }
  __pyx_L4:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":248 */
  if (PyObject_Cmp(__pyx_v_str, __pyx_k46p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
  __pyx_2 = __pyx_2 != 0;
  if (__pyx_2) {
    if (PyObject_Cmp(__pyx_v_str, __pyx_k47p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
    __pyx_2 = __pyx_2 != 0;
  }
  if (__pyx_2) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":249 */
    __pyx_3 = PyNumber_Add(__pyx_v_assertion, __pyx_v_str); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; goto __pyx_L1;}
    Py_DECREF(__pyx_v_assertion);
    __pyx_v_assertion = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":251 */
  if (PyObject_Cmp(__pyx_v_assertion, __pyx_k48p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  __pyx_2 = __pyx_2 != 0;
  if (__pyx_2) {
    if (PyObject_Cmp(__pyx_v_assertion, __pyx_k49p, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
    __pyx_2 = __pyx_2 != 0;
  }
  if (__pyx_2) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":252 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_assertions, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L1;}
    Py_INCREF(__pyx_v_assertion);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_assertion);
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L8;
  }
  __pyx_L8:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":254 */
  Py_INCREF(__pyx_v_assertions);
  __pyx_r = __pyx_v_assertions;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.read_asserts");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_assertions);
  Py_DECREF(__pyx_v_assertion);
  Py_DECREF(__pyx_v_pos);
  Py_DECREF(__pyx_v_line);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_str);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_verify_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_verify_assertion[] = "Verify the cryptographic signature on the given\n        assertion returning SIGRESULT_TRUE if the signature could be\n        verified, or SIGRESULT_FALSE otherwise.\n\n        Arguments:\n        assertion -- string containing an assertion\n        ";
static PyObject *__pyx_f_7keynote_7keynote_verify_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_assertion = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  char (*__pyx_1);
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  static char *__pyx_argnames[] = {"assertion",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_assertion)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_assertion);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":264 */
  __pyx_1 = PyString_AsString(__pyx_v_assertion); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
  Py_INCREF(__pyx_v_assertion);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_assertion);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyInt_FromLong(kn_verify_assertion(__pyx_1,__pyx_5)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":266 */
  __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_3, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
  __pyx_5 = __pyx_5 < 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_5) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":267 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":268 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":270 */
  Py_INCREF(__pyx_v_retval);
  __pyx_r = __pyx_v_retval;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.verify_assertion");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_assertion);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_sign_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_sign_assertion[] = "Produce and return the ASCII-encoded cryptographic\n        signature for the given assertion using the given ASCII-encoded\n        cryptographic private key.  The assertion is not modified.\n\n        Arguments:\n        assertion   -- string containing an unsigned assertion\n        key         -- ASCII-encoded cryptographic private key\n        algorithm   -- type of signature to be produced\n        vflag       -- set to also verify the generated signature\n        ";
static PyObject *__pyx_f_7keynote_7keynote_sign_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_assertion = 0;
  PyObject *__pyx_v_key = 0;
  PyObject *__pyx_v_algorithm = 0;
  PyObject *__pyx_v_vflag = 0;
  char (*__pyx_v_sig);
  PyObject *__pyx_v_obj_sig;
  PyObject *__pyx_r;
  char (*__pyx_1);
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  char (*__pyx_6);
  char (*__pyx_7);
  int __pyx_8;
  static char *__pyx_argnames[] = {"assertion","key","algorithm","vflag",0};
  __pyx_v_algorithm = __pyx_k24;
  __pyx_v_vflag = __pyx_k25;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|OO", __pyx_argnames, &__pyx_v_assertion, &__pyx_v_key, &__pyx_v_algorithm, &__pyx_v_vflag)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_assertion);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_algorithm);
  Py_INCREF(__pyx_v_vflag);
  __pyx_v_obj_sig = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":286 */
  __pyx_1 = PyString_AsString(__pyx_v_assertion); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  Py_INCREF(__pyx_v_assertion);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_assertion);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_6 = PyString_AsString(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  __pyx_7 = PyString_AsString(__pyx_v_algorithm); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; goto __pyx_L1;}
  __pyx_8 = PyInt_AsLong(__pyx_v_vflag); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; goto __pyx_L1;}
  __pyx_v_sig = kn_sign_assertion(__pyx_1,__pyx_5,__pyx_6,__pyx_7,__pyx_8);

  /* "/home/argp/projects/pykeynote/keynote.pyx":289 */
  __pyx_5 = (__pyx_v_sig == 0);
  if (__pyx_5) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":290 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":291 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 291; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 291; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 291; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 291; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 291; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":293 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  __pyx_4 = PyString_FromString(__pyx_v_sig); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_8 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyString_FromStringAndSize(__pyx_v_sig,__pyx_8); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  Py_DECREF(__pyx_v_obj_sig);
  __pyx_v_obj_sig = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":294 */
  free(__pyx_v_sig);

  /* "/home/argp/projects/pykeynote/keynote.pyx":295 */
  Py_INCREF(__pyx_v_obj_sig);
  __pyx_r = __pyx_v_obj_sig;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.sign_assertion");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_obj_sig);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_assertion);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_algorithm);
  Py_DECREF(__pyx_v_vflag);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_add_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_add_assertion[] = "Add the given assertion to the current session, returning\n        its assertion ID.\n\n        Arguments:\n        assertion   -- string containing an assertion\n        flags       -- set to ASSERT_FLAG_LOCAL to mark the assertion\n                       as ultimately trusted\n        ";
static PyObject *__pyx_f_7keynote_7keynote_add_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_assertion = 0;
  PyObject *__pyx_v_flags = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  char (*__pyx_1);
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  int __pyx_6;
  static char *__pyx_argnames[] = {"assertion","flags",0};
  __pyx_v_flags = __pyx_k26;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_assertion, &__pyx_v_flags)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_assertion);
  Py_INCREF(__pyx_v_flags);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":306 */
  __pyx_1 = PyString_AsString(__pyx_v_assertion); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_INCREF(__pyx_v_assertion);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_assertion);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_6 = PyInt_AsLong(__pyx_v_flags); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_add_assertion(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_1,__pyx_5,__pyx_6)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":309 */
  __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_3, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  __pyx_5 = __pyx_5 < 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_5) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":310 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":311 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 311; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":313 */
  Py_INCREF(__pyx_v_retval);
  __pyx_r = __pyx_v_retval;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.add_assertion");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_assertion);
  Py_DECREF(__pyx_v_flags);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_remove_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_remove_assertion[] = "Remove the assertion identified by the given assertion ID\n        from the current session.\n\n        Arguments:\n        assertid -- assertion ID (obtained from add_assertion())\n        ";
static PyObject *__pyx_f_7keynote_7keynote_remove_assertion(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_assertid = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"assertid",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_assertid)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_assertid);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":322 */
  __pyx_1 = PyInt_AsLong(__pyx_v_assertid); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_remove_assertion(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":324 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":325 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":326 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 326; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.remove_assertion");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_assertid);
  return __pyx_r;
}

static PyObject *__pyx_k50p;

static char (__pyx_k50[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_add_authorizer(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_add_authorizer[] = "Add the given principal to the action authorizers list of\n        the current session.  The principal is typically an\n        ASCII-encoded public key.\n\n        Arguments:\n        principal -- string containing a principal identifier\n        ";
static PyObject *__pyx_f_7keynote_7keynote_add_authorizer(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_principal = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  char (*__pyx_5);
  static char *__pyx_argnames[] = {"principal",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_principal)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_principal);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":336 */
  if (PyObject_Cmp(__pyx_v_principal, __pyx_k50p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":337 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":338 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 338; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 338; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 338; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 338; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 338; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":340 */
  __pyx_5 = PyString_AsString(__pyx_v_principal); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 340; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_add_authorizer(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_5)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 340; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":342 */
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_4, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":343 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":344 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 344; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 344; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 344; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 344; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 344; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.add_authorizer");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_principal);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_remove_authorizer(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_remove_authorizer[] = "Remove the given principal from the action authorizers list\n        of the current session.\n\n        Arguments:\n        principal -- string containing a principal identifier\n        ";
static PyObject *__pyx_f_7keynote_7keynote_remove_authorizer(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_principal = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  char (*__pyx_1);
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"principal",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_principal)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_principal);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":353 */
  __pyx_1 = PyString_AsString(__pyx_v_principal); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 353; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_remove_authorizer(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 353; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":355 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 355; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_2, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 355; goto __pyx_L1;}
  __pyx_3 = __pyx_3 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":356 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":357 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __Pyx_Raise(__pyx_4, 0, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("keynote.keynote.remove_authorizer");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_principal);
  return __pyx_r;
}

static PyObject *__pyx_n_False;

static PyObject *__pyx_k51p;
static PyObject *__pyx_k52p;

static char (__pyx_k51[]) = "";
static char (__pyx_k52[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_add_action(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_add_action[] = "Insert the given attribute name, value pair in the action\n        environment of the current session.\n\n        Arguments:\n        name    -- attribute name\n        value   -- attribute value\n        flags   -- if set to ENVIRONMENT_FLAG_FUNC then the value must\n                   be a function that takes as argument a string and\n                   returns a string.  This is used to implement\n                   callbacks for getting action attribute values.  If\n                   it set to ENVIRONMENT_FLAG_REGEX then the name is\n                   a regular expression that may match more than one\n                   attribute.  The combination of the two flags is\n                   allowed.  For more information see keynote(3).\n        ";
static PyObject *__pyx_f_7keynote_7keynote_add_action(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_v_flags = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  char (*__pyx_5);
  char (*__pyx_6);
  static char *__pyx_argnames[] = {"name","value","flags",0};
  __pyx_v_flags = __pyx_k27;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_name, &__pyx_v_value, &__pyx_v_flags)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_value);
  Py_INCREF(__pyx_v_flags);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":375 */
  if (PyObject_Cmp(__pyx_v_name, __pyx_k51p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 375; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_value, __pyx_k52p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 375; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
  }
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":376 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":377 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":379 */
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ENVIRONMENT_FLAG_FUNC); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 379; goto __pyx_L1;}
  __pyx_4 = PyNumber_And(__pyx_v_flags, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 379; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyObject_IsTrue(__pyx_4); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 379; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":380 */
    __pyx_3 = PyInt_FromLong(PyFunction_Check(__pyx_v_value)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; goto __pyx_L1;}
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_3, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {

      /* "/home/argp/projects/pykeynote/keynote.pyx":381 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 381; goto __pyx_L1;}
      __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 381; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

      /* "/home/argp/projects/pykeynote/keynote.pyx":382 */
      __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
      __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
      __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/home/argp/projects/pykeynote/keynote.pyx":384 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_KEYNOTE_CALLBACK_INITIALIZE); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 384; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 384; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_v_value, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 384; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":385 */
    __pyx_3 = PyObject_GetAttr(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks, __pyx_n_append); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_name);
    Py_INCREF(__pyx_v_value);
    PyTuple_SET_ITEM(__pyx_4, 1, __pyx_v_value);
    Py_INCREF(__pyx_v_flags);
    PyTuple_SET_ITEM(__pyx_4, 2, __pyx_v_flags);
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":386 */
    __pyx_r = Py_None; Py_INCREF(Py_None);
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":388 */
  __pyx_5 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
  __pyx_1 = PyInt_AsLong(__pyx_v_flags); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(kn_add_action(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_5,__pyx_6,__pyx_1)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":390 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 390; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 390; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":391 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":392 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.add_action");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  Py_DECREF(__pyx_v_flags);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_remove_action(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_remove_action[] = "Remove the specified action attribute from the environment\n        of the current session.  If the attribute value was a callback,\n        that function will be called with KEYNOTE_CALLBACK_CLEANUP as\n        the argument.\n\n        Arguments:\n        name -- attribute name\n        ";
static PyObject *__pyx_f_7keynote_7keynote_remove_action(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  char (*__pyx_1);
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"name",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_name)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":403 */
  __pyx_1 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_remove_action(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":405 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_2, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; goto __pyx_L1;}
  __pyx_3 = __pyx_3 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":406 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":407 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
    __pyx_4 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __Pyx_Raise(__pyx_4, 0, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("keynote.keynote.remove_action");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_cleanup_action_environment(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_cleanup_action_environment[] = "Remove all action attributes from the action environment of\n        the current session.\n        ";
static PyObject *__pyx_f_7keynote_7keynote_cleanup_action_environment(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":413 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___callback_cleanup); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 413; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 413; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 413; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":414 */
  __pyx_1 = PyInt_FromLong(kn_cleanup_action_environment(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 414; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_1;
  __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":416 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 416; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_2, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 416; goto __pyx_L1;}
  __pyx_4 = __pyx_4 < 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_4) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":417 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":418 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
    __pyx_1 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("keynote.keynote.cleanup_action_environment");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k53p;
static PyObject *__pyx_k54p;
static PyObject *__pyx_k55p;

static char (__pyx_k53[]) = "";
static char (__pyx_k54[]) = "\"";
static char (__pyx_k55[]) = "\"";

static PyObject *__pyx_f_7keynote_7keynote_get_string(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_get_string[] = "Parse the given quoted string and return its contents.\n        Useful for parsing key files.\n\n        Arguments:\n        str -- quoted string\n        ";
static PyObject *__pyx_f_7keynote_7keynote_get_string(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_str = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  char (*__pyx_5);
  static char *__pyx_argnames[] = {"str",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_str)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_str);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":427 */
  if (PyObject_Cmp(__pyx_v_str, __pyx_k53p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
    __pyx_3 = PyObject_GetItem(__pyx_v_str, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (PyObject_Cmp(__pyx_3, __pyx_k54p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
    __pyx_1 = __pyx_1 != 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    if (!__pyx_1) {
      __pyx_2 = PyInt_FromLong((-1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
      __pyx_3 = PyObject_GetItem(__pyx_v_str, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      if (PyObject_Cmp(__pyx_3, __pyx_k55p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
      __pyx_1 = __pyx_1 != 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
  }
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":428 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":429 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":431 */
  __pyx_5 = PyString_AsString(__pyx_v_str); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; goto __pyx_L1;}
  __pyx_3 = PyString_FromString(kn_get_string(__pyx_5)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":432 */
  Py_INCREF(__pyx_v_retval);
  __pyx_r = __pyx_v_retval;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.get_string");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_str);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_get_authorizer(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_get_authorizer[] = "Return a deckey object representing the authorizer key for\n        the specified assertion of the current session.\n\n        Arguments:\n        assertid -- assertion ID (obtained from add_assertion())\n        ";
static PyObject *__pyx_f_7keynote_7keynote_get_authorizer(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_assertid = 0;
  struct keynote_deckey __pyx_v_dc;
  PyObject *__pyx_v_obj_key;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"assertid",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_assertid)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_assertid);
  __pyx_v_obj_key = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":443 */
  __pyx_1 = PyInt_AsLong(__pyx_v_assertid); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 443; goto __pyx_L1;}
  __pyx_v_dc.dec_key = kn_get_authorizer(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_1,(&__pyx_v_dc.dec_algorithm));

  /* "/home/argp/projects/pykeynote/keynote.pyx":446 */
  __pyx_1 = (__pyx_v_dc.dec_key == 0);
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":447 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":448 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":450 */
  __pyx_2 = PyInt_FromLong(__pyx_v_dc.dec_algorithm); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; goto __pyx_L1;}
  __pyx_4 = PyCObject_FromVoidPtr(__pyx_v_dc.dec_key,0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_4);
  __pyx_2 = 0;
  __pyx_4 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_7keynote_deckey), __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 450; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_obj_key);
  __pyx_v_obj_key = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":452 */
  Py_INCREF(__pyx_v_obj_key);
  __pyx_r = __pyx_v_obj_key;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.get_authorizer");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_obj_key);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_assertid);
  return __pyx_r;
}

static PyObject *__pyx_n_isinstance;
static PyObject *__pyx_n_ValueError;
static PyObject *__pyx_n_algorithm;
static PyObject *__pyx_n_key;
static PyObject *__pyx_n_keytype;

static PyObject *__pyx_k56p;

static char (__pyx_k56[]) = "deckey object expected";

static PyObject *__pyx_f_7keynote_7keynote_encode_key(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_encode_key[] = "ASCII-encode and return a key contained in a deckey object.\n\n        Arguments:\n        dkey        -- a deckey object\n        iencoding   -- describes how the key should be binary-encoded\n        encoding    -- describes what ASCII encoding should be applied\n                       to the deckey object\n        ";
static PyObject *__pyx_f_7keynote_7keynote_encode_key(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_dkey = 0;
  PyObject *__pyx_v_iencoding = 0;
  PyObject *__pyx_v_encoding = 0;
  char (*__pyx_v_key);
  struct keynote_deckey __pyx_v_dc;
  PyObject *__pyx_v_keytype;
  PyObject *__pyx_v_obj_key;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  int __pyx_6;
  static char *__pyx_argnames[] = {"dkey","iencoding","encoding",0};
  __pyx_v_iencoding = __pyx_k28;
  __pyx_v_encoding = __pyx_k29;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|OO", __pyx_argnames, &__pyx_v_dkey, &__pyx_v_iencoding, &__pyx_v_encoding)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_dkey);
  Py_INCREF(__pyx_v_iencoding);
  Py_INCREF(__pyx_v_encoding);
  __pyx_v_keytype = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_key = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":467 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; goto __pyx_L1;}
  Py_INCREF(__pyx_v_dkey);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_dkey);
  Py_INCREF(((PyObject*)__pyx_ptype_7keynote_deckey));
  PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject*)__pyx_ptype_7keynote_deckey));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; goto __pyx_L1;}
  __pyx_4 = __pyx_4 == 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":468 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k56p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":470 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_dkey, __pyx_n_algorithm); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 470; goto __pyx_L1;}
  __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 470; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_v_dc.dec_algorithm = __pyx_4;

  /* "/home/argp/projects/pykeynote/keynote.pyx":471 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_dkey, __pyx_n_key); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; goto __pyx_L1;}
  __pyx_v_dc.dec_key = PyCObject_AsVoidPtr(__pyx_1);
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":472 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_dkey, __pyx_n_keytype); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
  Py_DECREF(__pyx_v_keytype);
  __pyx_v_keytype = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":474 */
  __pyx_4 = PyInt_AsLong(__pyx_v_iencoding); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 474; goto __pyx_L1;}
  __pyx_5 = PyInt_AsLong(__pyx_v_encoding); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 474; goto __pyx_L1;}
  __pyx_6 = PyInt_AsLong(__pyx_v_keytype); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 474; goto __pyx_L1;}
  __pyx_v_key = kn_encode_key((&__pyx_v_dc),__pyx_4,__pyx_5,__pyx_6);

  /* "/home/argp/projects/pykeynote/keynote.pyx":476 */
  __pyx_4 = (__pyx_v_key == 0);
  if (__pyx_4) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":477 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":478 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 478; goto __pyx_L1;}
    __pyx_1 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 478; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 478; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
    __pyx_1 = 0;
    __pyx_1 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 478; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __Pyx_Raise(__pyx_1, 0, 0);
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 478; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":480 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  __pyx_2 = PyString_FromString(__pyx_v_key); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_5 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyString_FromStringAndSize(__pyx_v_key,__pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  Py_DECREF(__pyx_v_obj_key);
  __pyx_v_obj_key = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":481 */
  free(__pyx_v_key);

  /* "/home/argp/projects/pykeynote/keynote.pyx":482 */
  Py_INCREF(__pyx_v_obj_key);
  __pyx_r = __pyx_v_obj_key;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("keynote.keynote.encode_key");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_keytype);
  Py_DECREF(__pyx_v_obj_key);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_dkey);
  Py_DECREF(__pyx_v_iencoding);
  Py_DECREF(__pyx_v_encoding);
  return __pyx_r;
}

static PyObject *__pyx_k57p;

static char (__pyx_k57[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_decode_key(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_decode_key[] = "Decode the given ASCII-encoded key returning a deckey\n        object.\n\n        Arguments:\n        key     -- an ASCII-encoded key\n        key_type -- KEYNOTE_PUBLIC_KEY or KEYNOTE_PRIVATE_KEY\n        ";
static PyObject *__pyx_f_7keynote_7keynote_decode_key(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_key = 0;
  PyObject *__pyx_v_key_type = 0;
  struct keynote_deckey __pyx_v_dc;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_v_obj_key;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  char (*__pyx_5);
  static char *__pyx_argnames[] = {"key","key_type",0};
  __pyx_v_key_type = __pyx_k30;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_key, &__pyx_v_key_type)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_key_type);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_key = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":494 */
  if (PyObject_Cmp(__pyx_v_key, __pyx_k57p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 494; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":495 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 495; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 495; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":496 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":498 */
  __pyx_5 = PyString_AsString(__pyx_v_key); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 498; goto __pyx_L1;}
  __pyx_1 = PyInt_AsLong(__pyx_v_key_type); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 498; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_decode_key((&__pyx_v_dc),__pyx_5,__pyx_1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 498; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":500 */
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_4, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":501 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":502 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":504 */
  __pyx_3 = PyInt_FromLong(__pyx_v_dc.dec_algorithm); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
  __pyx_4 = PyCObject_FromVoidPtr(__pyx_v_dc.dec_key,0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_3, __pyx_n_keytype, __pyx_v_key_type) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
  __pyx_4 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_7keynote_deckey), __pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_obj_key);
  __pyx_v_obj_key = __pyx_4;
  __pyx_4 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":507 */
  Py_INCREF(__pyx_v_obj_key);
  __pyx_r = __pyx_v_obj_key;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.decode_key");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_obj_key);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_key_type);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_get_licensees(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_get_licensees[] = "Return the licensee key(s) for the given assertion ID of\n        the current session as a list of one or more deckey object(s).\n\n        Arguments:\n        assertid -- assertion ID (obtained from add_assertion())\n        ";
static PyObject *__pyx_f_7keynote_7keynote_get_licensees(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_assertid = 0;
  struct keynote_keylist (*__pyx_v_kl);
  PyObject *__pyx_v_key_list;
  PyObject *__pyx_v_obj_key;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"assertid",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_assertid)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_assertid);
  __pyx_v_key_list = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_key = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":517 */
  __pyx_1 = PyList_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
  Py_DECREF(__pyx_v_key_list);
  __pyx_v_key_list = __pyx_1;
  __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":519 */
  __pyx_2 = PyInt_AsLong(__pyx_v_assertid); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
  __pyx_v_kl = kn_get_licensees(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_2);

  /* "/home/argp/projects/pykeynote/keynote.pyx":521 */
  __pyx_2 = (__pyx_v_kl == 0);
  if (__pyx_2) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":522 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":523 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 523; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 523; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 523; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 523; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 523; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":525 */
  while (1) {
    __pyx_L3:;
    __pyx_2 = (__pyx_v_kl != 0);
    if (!__pyx_2) break;

    /* "/home/argp/projects/pykeynote/keynote.pyx":526 */
    __pyx_1 = PyInt_FromLong(__pyx_v_kl->key_alg); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
    __pyx_4 = PyCObject_FromVoidPtr(__pyx_v_kl->key_key,0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 527; goto __pyx_L1;}
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 529; goto __pyx_L1;}
    __pyx_5 = PyString_FromString(__pyx_v_kl->key_stringkey); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 529; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 529; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_5);
    __pyx_5 = 0;
    __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 529; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_2 = PyInt_AsLong(__pyx_5); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 529; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_3 = PyString_FromStringAndSize(__pyx_v_kl->key_stringkey,__pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 528; goto __pyx_L1;}
    __pyx_6 = PyTuple_New(3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_6, 0, __pyx_1);
    PyTuple_SET_ITEM(__pyx_6, 1, __pyx_4);
    PyTuple_SET_ITEM(__pyx_6, 2, __pyx_3);
    __pyx_1 = 0;
    __pyx_4 = 0;
    __pyx_3 = 0;
    __pyx_5 = PyObject_CallObject(((PyObject*)__pyx_ptype_7keynote_deckey), __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_v_obj_key);
    __pyx_v_obj_key = __pyx_5;
    __pyx_5 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":530 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_key_list, __pyx_n_append); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
    Py_INCREF(__pyx_v_obj_key);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_obj_key);
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":531 */
    __pyx_v_kl = __pyx_v_kl->key_next;
  }
  __pyx_L4:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":533 */
  Py_INCREF(__pyx_v_key_list);
  __pyx_r = __pyx_v_key_list;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("keynote.keynote.get_licensees");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_key_list);
  Py_DECREF(__pyx_v_obj_key);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_assertid);
  return __pyx_r;
}

static PyObject *__pyx_n_True;

static PyObject *__pyx_k59p;

static char (__pyx_k59[]) = "deckey objects expected";

static PyObject *__pyx_f_7keynote_7keynote_keycompare(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_keycompare[] = "Compare the two given deckey objects returning True if\n        they are equal and False otherwise.\n\n        Arguments:\n        key1    -- deckey object\n        key2    -- deckey object\n        ";
static PyObject *__pyx_f_7keynote_7keynote_keycompare(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_key1 = 0;
  PyObject *__pyx_v_key2 = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"key1","key2",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_key1, &__pyx_v_key2)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_key1);
  Py_INCREF(__pyx_v_key2);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":543 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  Py_INCREF(__pyx_v_key1);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_key1);
  Py_INCREF(((PyObject*)__pyx_ptype_7keynote_deckey));
  PyTuple_SET_ITEM(__pyx_3, 1, ((PyObject*)__pyx_ptype_7keynote_deckey));
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_4, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__pyx_1) {
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_isinstance); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
    Py_INCREF(__pyx_v_key2);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_key2);
    Py_INCREF(((PyObject*)__pyx_ptype_7keynote_deckey));
    PyTuple_SET_ITEM(__pyx_4, 1, ((PyObject*)__pyx_ptype_7keynote_deckey));
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 544; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_2, __pyx_3, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 544; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
  }
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":545 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 545; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k59p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 545; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":547 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_key1, __pyx_n_key); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
  __pyx_3 = PyObject_GetAttr(__pyx_v_key2, __pyx_n_key); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
  __pyx_4 = PyObject_GetAttr(__pyx_v_key1, __pyx_n_algorithm); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
  __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 548; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_4 = PyInt_FromLong(kn_keycompare(PyCObject_AsVoidPtr(__pyx_2),PyCObject_AsVoidPtr(__pyx_3),__pyx_1)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_4;
  __pyx_4 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":550 */
  __pyx_1 = PyObject_IsTrue(__pyx_v_retval); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 550; goto __pyx_L1;}
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":551 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_True); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/argp/projects/pykeynote/keynote.pyx":553 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_False); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 553; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
  }
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.keycompare");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_key1);
  Py_DECREF(__pyx_v_key2);
  return __pyx_r;
}

static PyObject *__pyx_k60p;

static char (__pyx_k60[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_decode_hex(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_decode_hex[] = "Decode the given ASCII hex-encoded string and return the\n        result.  The length of the result will be (len(hex_str) / 2).\n\n        Arguments:\n        hex_str -- ASCII hex-encoded string\n        ";
static PyObject *__pyx_f_7keynote_7keynote_decode_hex(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_hex_str = 0;
  char (*__pyx_v_dst);
  char (*__pyx_v_src);
  PyObject *__pyx_v_retval;
  PyObject *__pyx_v_obj_str;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"hex_str",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_hex_str)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_hex_str);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_str = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":565 */
  if (PyObject_Cmp(__pyx_v_hex_str, __pyx_k60p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 565; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":566 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":567 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 567; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":569 */
  __pyx_v_src = PyString_AsString(__pyx_v_hex_str);

  /* "/home/argp/projects/pykeynote/keynote.pyx":570 */
  __pyx_2 = PyInt_FromLong(kn_decode_hex(__pyx_v_src,(&__pyx_v_dst))); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":572 */
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_4, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":573 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":574 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":576 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  Py_INCREF(__pyx_v_hex_str);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_hex_str);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  __pyx_4 = PyNumber_Divide(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = PyString_FromStringAndSize(__pyx_v_dst,__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; goto __pyx_L1;}
  Py_DECREF(__pyx_v_obj_str);
  __pyx_v_obj_str = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":577 */
  free(__pyx_v_dst);

  /* "/home/argp/projects/pykeynote/keynote.pyx":578 */
  Py_INCREF(__pyx_v_obj_str);
  __pyx_r = __pyx_v_obj_str;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.decode_hex");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_obj_str);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_hex_str);
  return __pyx_r;
}

static PyObject *__pyx_k61p;

static char (__pyx_k61[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_encode_hex(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_encode_hex[] = "Encode in ASCII-hexadecimal format and return the given\n        binary data of the given length.\n\n        Arguments:\n        bin_str -- binary data\n        bin_len -- length of the binary data\n        ";
static PyObject *__pyx_f_7keynote_7keynote_encode_hex(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_bin_str = 0;
  PyObject *__pyx_v_bin_len = 0;
  char (*__pyx_v_dst);
  unsigned char (*__pyx_v_src);
  PyObject *__pyx_v_retval;
  PyObject *__pyx_v_obj_str;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"bin_str","bin_len",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_bin_str, &__pyx_v_bin_len)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_bin_str);
  Py_INCREF(__pyx_v_bin_len);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_str = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":591 */
  if (PyObject_Cmp(__pyx_v_bin_str, __pyx_k61p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_bin_len, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 591; goto __pyx_L1;}
    __pyx_1 = __pyx_1 <= 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":592 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 592; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 592; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":593 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":595 */
  __pyx_v_src = ((unsigned char (*))PyString_AsString(__pyx_v_bin_str));

  /* "/home/argp/projects/pykeynote/keynote.pyx":596 */
  __pyx_1 = PyInt_AsLong(__pyx_v_bin_len); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 596; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(kn_encode_hex(__pyx_v_src,(&__pyx_v_dst),__pyx_1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 596; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":598 */
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 598; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_4, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 598; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":599 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":600 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 600; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":602 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  __pyx_4 = PyString_FromString(__pyx_v_dst); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyString_FromStringAndSize(__pyx_v_dst,__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 602; goto __pyx_L1;}
  Py_DECREF(__pyx_v_obj_str);
  __pyx_v_obj_str = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":603 */
  free(__pyx_v_dst);

  /* "/home/argp/projects/pykeynote/keynote.pyx":604 */
  Py_INCREF(__pyx_v_obj_str);
  __pyx_r = __pyx_v_obj_str;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.encode_hex");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_obj_str);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_bin_str);
  Py_DECREF(__pyx_v_bin_len);
  return __pyx_r;
}

static PyObject *__pyx_k62p;

static char (__pyx_k62[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_encode_base64(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_encode_base64[] = "Encode in Base64 encoding and return the given binary data\n        of the given length.\n\n        Arguments:\n        bin_str -- binary data\n        bin_len -- length of the binary data\n        ";
static PyObject *__pyx_f_7keynote_7keynote_encode_base64(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_bin_str = 0;
  PyObject *__pyx_v_bin_len = 0;
  char (*__pyx_v_dst);
  unsigned char (*__pyx_v_src);
  PyObject *__pyx_v_retval;
  PyObject *__pyx_v_obj_str;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  unsigned int __pyx_5;
  unsigned int __pyx_6;
  static char *__pyx_argnames[] = {"bin_str","bin_len",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_bin_str, &__pyx_v_bin_len)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_bin_str);
  Py_INCREF(__pyx_v_bin_len);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_str = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":617 */
  if (PyObject_Cmp(__pyx_v_bin_str, __pyx_k62p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 617; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 617; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_bin_len, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 617; goto __pyx_L1;}
    __pyx_1 = __pyx_1 <= 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":618 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 618; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 618; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":619 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":621 */
  __pyx_v_src = ((unsigned char (*))PyString_AsString(__pyx_v_bin_str));

  /* "/home/argp/projects/pykeynote/keynote.pyx":622 */
  __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
  __pyx_4 = PyNumber_Multiply(__pyx_v_bin_len, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_3 = PyInt_FromLong((sizeof(char ))); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
  __pyx_2 = PyNumber_Multiply(__pyx_4, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_dst = ((char (*))malloc(__pyx_1));

  /* "/home/argp/projects/pykeynote/keynote.pyx":623 */
  __pyx_5 = PyInt_AsUnsignedLongMask(__pyx_v_bin_len); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  __pyx_4 = PyInt_FromLong(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  __pyx_3 = PyNumber_Multiply(__pyx_v_bin_len, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_6 = PyInt_AsUnsignedLongMask(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyInt_FromLong(kn_encode_base64(__pyx_v_src,__pyx_5,__pyx_v_dst,__pyx_6)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":625 */
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_4, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":626 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":627 */
    __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":629 */
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  __pyx_4 = PyString_FromString(__pyx_v_dst); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_3 = PyString_FromStringAndSize(__pyx_v_dst,__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 629; goto __pyx_L1;}
  Py_DECREF(__pyx_v_obj_str);
  __pyx_v_obj_str = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":630 */
  free(__pyx_v_dst);

  /* "/home/argp/projects/pykeynote/keynote.pyx":631 */
  Py_INCREF(__pyx_v_obj_str);
  __pyx_r = __pyx_v_obj_str;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.keynote.encode_base64");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_obj_str);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_bin_str);
  Py_DECREF(__pyx_v_bin_len);
  return __pyx_r;
}

static PyObject *__pyx_k63p;

static char (__pyx_k63[]) = "";

static PyObject *__pyx_f_7keynote_7keynote_decode_base64(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_decode_base64[] = "Decode the given ASCII Base64-encoded string and return the\n        result.\n\n        Arguments:\n        b64_str -- ASCII Base64-encoded string\n        ";
static PyObject *__pyx_f_7keynote_7keynote_decode_base64(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_b64_str = 0;
  unsigned char (*__pyx_v_dst);
  char (*__pyx_v_src);
  PyObject *__pyx_v_blen;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_v_obj_str;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  char (*__pyx_6);
  unsigned int __pyx_7;
  static char *__pyx_argnames[] = {"b64_str",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_b64_str)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_b64_str);
  __pyx_v_blen = Py_None; Py_INCREF(Py_None);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);
  __pyx_v_obj_str = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":643 */
  if (PyObject_Cmp(__pyx_v_b64_str, __pyx_k63p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 643; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":644 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 644; goto __pyx_L1;}
    __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 644; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = __pyx_1;

    /* "/home/argp/projects/pykeynote/keynote.pyx":645 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 645; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 645; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 645; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 645; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, 0, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 645; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":647 */
  __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  Py_INCREF(__pyx_v_b64_str);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_b64_str);
  __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_4 = PyInt_FromLong(4); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  __pyx_3 = PyNumber_Divide(__pyx_5, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_5 = PyNumber_Multiply(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_blen);
  __pyx_v_blen = __pyx_5;
  __pyx_5 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":648 */
  __pyx_v_src = PyString_AsString(__pyx_v_b64_str);

  /* "/home/argp/projects/pykeynote/keynote.pyx":649 */
  __pyx_4 = PyInt_FromLong((sizeof(unsigned char ))); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
  __pyx_2 = PyNumber_Multiply(__pyx_v_blen, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 649; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_dst = ((unsigned char (*))malloc(__pyx_1));

  /* "/home/argp/projects/pykeynote/keynote.pyx":650 */
  __pyx_6 = PyString_AsString(__pyx_v_b64_str); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
  __pyx_7 = PyInt_AsUnsignedLongMask(__pyx_v_blen); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(kn_decode_base64(__pyx_6,__pyx_v_dst,__pyx_7)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 650; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":652 */
  __pyx_5 = PyInt_FromLong(0); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_5, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":653 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":654 */
    __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 654; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 654; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 654; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 654; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_5, 0, 0);
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 654; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":656 */
  __pyx_1 = PyInt_AsLong(__pyx_v_blen); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
  __pyx_2 = PyString_FromStringAndSize(((char (*))__pyx_v_dst),__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 656; goto __pyx_L1;}
  Py_DECREF(__pyx_v_obj_str);
  __pyx_v_obj_str = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":657 */
  free(__pyx_v_dst);

  /* "/home/argp/projects/pykeynote/keynote.pyx":658 */
  Py_INCREF(__pyx_v_obj_str);
  __pyx_r = __pyx_v_obj_str;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("keynote.keynote.decode_base64");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_blen);
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_obj_str);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_b64_str);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_7keynote_get_failed(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_get_failed[] = "Return the assertion ID in the current session that was\n        somehow invalid during evaluation.\n\n        Arguments:\n        type    -- specifies the type of failure the application is\n                   interested in\n        seq     -- the number of the assertion (starting from zero)\n        ";
static PyObject *__pyx_f_7keynote_7keynote_get_failed(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_type = 0;
  PyObject *__pyx_v_seq = 0;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"type","seq",0};
  __pyx_v_type = __pyx_k31;
  __pyx_v_seq = __pyx_k32;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|OO", __pyx_argnames, &__pyx_v_type, &__pyx_v_seq)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_type);
  Py_INCREF(__pyx_v_seq);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":669 */
  __pyx_1 = PyInt_AsLong(__pyx_v_type); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; goto __pyx_L1;}
  __pyx_2 = PyInt_AsLong(__pyx_v_seq); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(kn_get_failed(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_1,__pyx_2)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":670 */
  Py_INCREF(__pyx_v_retval);
  __pyx_r = __pyx_v_retval;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("keynote.keynote.get_failed");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_type);
  Py_DECREF(__pyx_v_seq);
  return __pyx_r;
}

static PyObject *__pyx_n_add_action;
static PyObject *__pyx_n_remove_action;

static PyObject *__pyx_k64p;
static PyObject *__pyx_k65p;
static PyObject *__pyx_k66p;

static char (__pyx_k64[]) = "empty list";
static char (__pyx_k65[]) = "input listmust contain strings";
static char (__pyx_k66[]) = "input not a list";

static PyObject *__pyx_f_7keynote_7keynote_do_query(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_7keynote_7keynote_do_query[] = "Evaluate the request based on the assertions, action\n        attributes, and action authorizers added to the current\n        session.  The input is an ordered list of strings that\n        contain the return values, and the return value is an index\n        into the passed list.  The input list must be ordered from\n        the lowest to the highest-ordered values.\n\n        Arguments:\n        retvalues -- ordered list of string that contain the return\n                     values\n        ";
static PyObject *__pyx_f_7keynote_7keynote_do_query(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_retvalues = 0;
  char (*(*__pyx_v_v));
  char (*(*__pyx_v_s));
  int __pyx_v_size;
  PyObject *__pyx_v_slist;
  PyObject *__pyx_v_el;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_func;
  PyObject *__pyx_v_flags;
  PyObject *__pyx_v_val;
  PyObject *__pyx_v_retval;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  char (*__pyx_4);
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"retvalues",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_retvalues)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_retvalues);
  __pyx_v_slist = Py_None; Py_INCREF(Py_None);
  __pyx_v_el = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_func = Py_None; Py_INCREF(Py_None);
  __pyx_v_flags = Py_None; Py_INCREF(Py_None);
  __pyx_v_val = Py_None; Py_INCREF(Py_None);
  __pyx_v_retval = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":688 */
  Py_INCREF(__pyx_v_retvalues);
  Py_DECREF(__pyx_v_slist);
  __pyx_v_slist = __pyx_v_retvalues;

  /* "/home/argp/projects/pykeynote/keynote.pyx":690 */
  __pyx_1 = PyList_Check(__pyx_v_slist);
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":691 */
    __pyx_v_size = PyList_Size(__pyx_v_slist);

    /* "/home/argp/projects/pykeynote/keynote.pyx":693 */
    __pyx_1 = (__pyx_v_size == 0);
    if (__pyx_1) {

      /* "/home/argp/projects/pykeynote/keynote.pyx":694 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 694; goto __pyx_L1;}
      __Pyx_Raise(__pyx_2, __pyx_k64p, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 694; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/home/argp/projects/pykeynote/keynote.pyx":696 */
    __pyx_v_v = ((char (*(*)))malloc((__pyx_v_size * (sizeof(char (*))))));

    /* "/home/argp/projects/pykeynote/keynote.pyx":697 */
    __pyx_v_s = __pyx_v_v;

    /* "/home/argp/projects/pykeynote/keynote.pyx":699 */
    __pyx_2 = PyObject_GetIter(__pyx_v_slist); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 699; goto __pyx_L1;}
    for (;;) {
      __pyx_L4:;
      __pyx_3 = PyIter_Next(__pyx_2);
      if (!__pyx_3) {
        if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 699; goto __pyx_L1;}
        break;
      }
      Py_DECREF(__pyx_v_el);
      __pyx_v_el = __pyx_3;
      __pyx_3 = 0;

      /* "/home/argp/projects/pykeynote/keynote.pyx":700 */
      __pyx_1 = PyString_Check(__pyx_v_el);
      if (__pyx_1) {

        /* "/home/argp/projects/pykeynote/keynote.pyx":701 */
        __pyx_4 = PyString_AsString(__pyx_v_el); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 701; goto __pyx_L1;}
        (__pyx_v_s[0]) = __pyx_4;

        /* "/home/argp/projects/pykeynote/keynote.pyx":702 */
        __pyx_v_s = (__pyx_v_s + 1);
        goto __pyx_L6;
      }
      /*else*/ {

        /* "/home/argp/projects/pykeynote/keynote.pyx":704 */
        __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 704; goto __pyx_L1;}
        __Pyx_Raise(__pyx_3, __pyx_k65p, 0);
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 704; goto __pyx_L1;}
      }
      __pyx_L6:;
    }
    __pyx_L5:;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/home/argp/projects/pykeynote/keynote.pyx":707 */
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; goto __pyx_L1;}
    __Pyx_Raise(__pyx_3, __pyx_k66p, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 707; goto __pyx_L1;}
  }
  __pyx_L2:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":710 */
  __pyx_2 = PyObject_GetIter(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; goto __pyx_L1;}
  for (;;) {
    __pyx_L7:;
    __pyx_3 = PyIter_Next(__pyx_2);
    if (!__pyx_3) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 710; goto __pyx_L1;}
      break;
    }
    Py_DECREF(__pyx_v_el);
    __pyx_v_el = __pyx_3;
    __pyx_3 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":711 */
    __pyx_3 = __Pyx_UnpackItem(__pyx_v_el, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 711; goto __pyx_L1;}
    Py_DECREF(__pyx_v_name);
    __pyx_v_name = __pyx_3;
    __pyx_3 = 0;
    __pyx_5 = __Pyx_UnpackItem(__pyx_v_el, 1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 711; goto __pyx_L1;}
    Py_DECREF(__pyx_v_func);
    __pyx_v_func = __pyx_5;
    __pyx_5 = 0;
    __pyx_6 = __Pyx_UnpackItem(__pyx_v_el, 2); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 711; goto __pyx_L1;}
    Py_DECREF(__pyx_v_flags);
    __pyx_v_flags = __pyx_6;
    __pyx_6 = 0;
    if (__Pyx_EndUnpack(__pyx_v_el, 3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 711; goto __pyx_L1;}

    /* "/home/argp/projects/pykeynote/keynote.pyx":712 */
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 712; goto __pyx_L1;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
    __pyx_5 = PyObject_CallObject(__pyx_v_func, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 712; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_val);
    __pyx_v_val = __pyx_5;
    __pyx_5 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":713 */
    __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_n_ENVIRONMENT_FLAG_FUNC); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; goto __pyx_L1;}
    __pyx_3 = PyNumber_Invert(__pyx_6); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    __pyx_5 = PyNumber_And(__pyx_v_flags, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 713; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_flags);
    __pyx_v_flags = __pyx_5;
    __pyx_5 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":714 */
    __pyx_6 = PyObject_GetAttr(__pyx_v_self, __pyx_n_add_action); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 714; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 714; goto __pyx_L1;}
    Py_INCREF(__pyx_v_name);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_name);
    Py_INCREF(__pyx_v_val);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_v_val);
    Py_INCREF(__pyx_v_flags);
    PyTuple_SET_ITEM(__pyx_3, 2, __pyx_v_flags);
    __pyx_5 = PyObject_CallObject(__pyx_6, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 714; goto __pyx_L1;}
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
  }
  __pyx_L8:;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":716 */
  __pyx_6 = PyInt_FromLong(kn_do_query(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session,__pyx_v_v,__pyx_v_size)); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 716; goto __pyx_L1;}
  Py_DECREF(__pyx_v_retval);
  __pyx_v_retval = __pyx_6;
  __pyx_6 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":717 */
  free(__pyx_v_v);

  /* "/home/argp/projects/pykeynote/keynote.pyx":719 */
  __pyx_3 = PyObject_GetIter(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; goto __pyx_L1;}
  for (;;) {
    __pyx_L9:;
    __pyx_5 = PyIter_Next(__pyx_3);
    if (!__pyx_5) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 719; goto __pyx_L1;}
      break;
    }
    Py_DECREF(__pyx_v_el);
    __pyx_v_el = __pyx_5;
    __pyx_5 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":720 */
    __pyx_2 = __Pyx_UnpackItem(__pyx_v_el, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; goto __pyx_L1;}
    Py_DECREF(__pyx_v_name);
    __pyx_v_name = __pyx_2;
    __pyx_2 = 0;
    __pyx_6 = __Pyx_UnpackItem(__pyx_v_el, 1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; goto __pyx_L1;}
    Py_DECREF(__pyx_v_func);
    __pyx_v_func = __pyx_6;
    __pyx_6 = 0;
    __pyx_5 = __Pyx_UnpackItem(__pyx_v_el, 2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; goto __pyx_L1;}
    Py_DECREF(__pyx_v_flags);
    __pyx_v_flags = __pyx_5;
    __pyx_5 = 0;
    if (__Pyx_EndUnpack(__pyx_v_el, 3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 720; goto __pyx_L1;}

    /* "/home/argp/projects/pykeynote/keynote.pyx":721 */
    /*try:*/ {

      /* "/home/argp/projects/pykeynote/keynote.pyx":722 */
      __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_remove_action); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 722; goto __pyx_L11;}
      __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 722; goto __pyx_L11;}
      Py_INCREF(__pyx_v_name);
      PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_name);
      __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_6); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 722; goto __pyx_L11;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }
    goto __pyx_L12;
    __pyx_L11:;
    Py_XDECREF(__pyx_2); __pyx_2 = 0;
    Py_XDECREF(__pyx_6); __pyx_6 = 0;
    Py_XDECREF(__pyx_5); __pyx_5 = 0;

    /* "/home/argp/projects/pykeynote/keynote.pyx":723 */
    /*except:*/ {
      __Pyx_AddTraceback("keynote.do_query");
      __pyx_2 = __Pyx_GetExcValue(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 723; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;

      /* "/home/argp/projects/pykeynote/keynote.pyx":724 */
      goto __pyx_L12;
    }
    __pyx_L12:;
  }
  __pyx_L10:;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":726 */
  __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_retval, __pyx_6, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 726; goto __pyx_L1;}
  __pyx_1 = __pyx_1 < 0;
  Py_DECREF(__pyx_6); __pyx_6 = 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":727 */
    ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno = keynote_errno;

    /* "/home/argp/projects/pykeynote/keynote.pyx":728 */
    __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_keynote_error); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->keynote_errno); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_6 = PyObject_CallObject(__pyx_5, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_6, 0, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 728; goto __pyx_L1;}
    goto __pyx_L13;
  }
  __pyx_L13:;

  /* "/home/argp/projects/pykeynote/keynote.pyx":730 */
  Py_INCREF(__pyx_v_retval);
  __pyx_r = __pyx_v_retval;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("keynote.keynote.do_query");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_slist);
  Py_DECREF(__pyx_v_el);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_func);
  Py_DECREF(__pyx_v_flags);
  Py_DECREF(__pyx_v_val);
  Py_DECREF(__pyx_v_retval);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_retvalues);
  return __pyx_r;
}

static PyObject *__pyx_n_remove;

static PyObject *__pyx_f_7keynote_7keynote___callback_cleanup(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7keynote_7keynote___callback_cleanup(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_el;
  PyObject *__pyx_v_name;
  PyObject *__pyx_v_func;
  PyObject *__pyx_v_flags;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_el = Py_None; Py_INCREF(Py_None);
  __pyx_v_name = Py_None; Py_INCREF(Py_None);
  __pyx_v_func = Py_None; Py_INCREF(Py_None);
  __pyx_v_flags = Py_None; Py_INCREF(Py_None);

  /* "/home/argp/projects/pykeynote/keynote.pyx":733 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
  Py_INCREF(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks);
  PyTuple_SET_ITEM(__pyx_2, 0, ((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_3, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 733; goto __pyx_L1;}
  __pyx_4 = __pyx_4 > 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_4) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":734 */
    __pyx_2 = PyObject_GetIter(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; goto __pyx_L1;}
    for (;;) {
      __pyx_L3:;
      __pyx_3 = PyIter_Next(__pyx_2);
      if (!__pyx_3) {
        if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 734; goto __pyx_L1;}
        break;
      }
      Py_DECREF(__pyx_v_el);
      __pyx_v_el = __pyx_3;
      __pyx_3 = 0;

      /* "/home/argp/projects/pykeynote/keynote.pyx":735 */
      __pyx_1 = __Pyx_UnpackItem(__pyx_v_el, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 735; goto __pyx_L1;}
      Py_DECREF(__pyx_v_name);
      __pyx_v_name = __pyx_1;
      __pyx_1 = 0;
      __pyx_3 = __Pyx_UnpackItem(__pyx_v_el, 1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 735; goto __pyx_L1;}
      Py_DECREF(__pyx_v_func);
      __pyx_v_func = __pyx_3;
      __pyx_3 = 0;
      __pyx_5 = __Pyx_UnpackItem(__pyx_v_el, 2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 735; goto __pyx_L1;}
      Py_DECREF(__pyx_v_flags);
      __pyx_v_flags = __pyx_5;
      __pyx_5 = 0;
      if (__Pyx_EndUnpack(__pyx_v_el, 3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 735; goto __pyx_L1;}

      /* "/home/argp/projects/pykeynote/keynote.pyx":736 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_KEYNOTE_CALLBACK_CLEANUP); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 736; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 736; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
      __pyx_1 = 0;
      __pyx_5 = PyObject_CallObject(__pyx_v_func, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 736; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;

      /* "/home/argp/projects/pykeynote/keynote.pyx":737 */
      __pyx_1 = PyObject_GetAttr(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->callbacks, __pyx_n_remove); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 737; goto __pyx_L1;}
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 737; goto __pyx_L1;}
      Py_INCREF(__pyx_v_el);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_el);
      __pyx_5 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 737; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
    }
    __pyx_L4:;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("keynote.keynote.__callback_cleanup");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_el);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_func);
  Py_DECREF(__pyx_v_flags);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static void __pyx_f_7keynote_7keynote___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_7keynote_7keynote___dealloc__(PyObject *__pyx_v_self) {
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":742 */
  kn_close(((struct __pyx_obj_7keynote_keynote *)__pyx_v_self)->session);

  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("keynote.keynote.__dealloc__");
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
}

static int __pyx_f_7keynote_6deckey___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7keynote_6deckey___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_algorithm = 0;
  PyObject *__pyx_v_key = 0;
  PyObject *__pyx_v_stringkey = 0;
  PyObject *__pyx_v_keytype = 0;
  int __pyx_r;
  int __pyx_1;
  static char *__pyx_argnames[] = {"algorithm","key","stringkey","keytype",0};
  __pyx_v_stringkey = __pyx_k33;
  __pyx_v_keytype = __pyx_k34;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|OO", __pyx_argnames, &__pyx_v_algorithm, &__pyx_v_key, &__pyx_v_stringkey, &__pyx_v_keytype)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_algorithm);
  Py_INCREF(__pyx_v_key);
  Py_INCREF(__pyx_v_stringkey);
  Py_INCREF(__pyx_v_keytype);

  /* "/home/argp/projects/pykeynote/keynote.pyx":763 */
  ((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc = ((struct keynote_deckey (*))malloc((sizeof(struct keynote_deckey ))));

  /* "/home/argp/projects/pykeynote/keynote.pyx":764 */
  __pyx_1 = PyInt_AsLong(__pyx_v_algorithm); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 764; goto __pyx_L1;}
  ((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc->dec_algorithm = __pyx_1;

  /* "/home/argp/projects/pykeynote/keynote.pyx":765 */
  ((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc->dec_key = PyCObject_AsVoidPtr(__pyx_v_key);

  /* "/home/argp/projects/pykeynote/keynote.pyx":766 */
  __pyx_1 = PyInt_AsLong(__pyx_v_keytype); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 766; goto __pyx_L1;}
  ((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_type = __pyx_1;

  /* "/home/argp/projects/pykeynote/keynote.pyx":768 */
  if (PyObject_Cmp(__pyx_v_stringkey, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 768; goto __pyx_L1;}
  __pyx_1 = __pyx_1 != 0;
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":769 */
    ((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_stringkey = PyString_AsString(__pyx_v_stringkey);
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/home/argp/projects/pykeynote/keynote.pyx":771 */
    ((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_stringkey = 0;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("keynote.deckey.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_algorithm);
  Py_DECREF(__pyx_v_key);
  Py_DECREF(__pyx_v_stringkey);
  Py_DECREF(__pyx_v_keytype);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_6deckey_9algorithm___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7keynote_6deckey_9algorithm___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":776 */
  __pyx_1 = PyInt_FromLong(((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc->dec_algorithm); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 776; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("keynote.deckey.algorithm.__get__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_6deckey_3key___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7keynote_6deckey_3key___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":781 */
  __pyx_1 = PyCObject_FromVoidPtr(((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc->dec_key,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 781; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("keynote.deckey.key.__get__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_6deckey_7keytype___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7keynote_6deckey_7keytype___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":786 */
  __pyx_1 = PyInt_FromLong(((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 786; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("keynote.deckey.keytype.__get__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7keynote_6deckey_9stringkey___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7keynote_6deckey_9stringkey___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":791 */
  __pyx_1 = (((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_stringkey == 0);
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":792 */
    Py_INCREF(Py_None);
    __pyx_r = Py_None;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/home/argp/projects/pykeynote/keynote.pyx":794 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; goto __pyx_L1;}
    __pyx_3 = PyString_FromString(((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_stringkey); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_1 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 795; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyString_FromStringAndSize(((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->key_stringkey,__pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 794; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("keynote.deckey.stringkey.__get__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static void __pyx_f_7keynote_6deckey___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_7keynote_6deckey___dealloc__(PyObject *__pyx_v_self) {
  int __pyx_1;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":798 */
  __pyx_1 = (((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc != 0);
  if (__pyx_1) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":799 */
    free(((struct __pyx_obj_7keynote_deckey *)__pyx_v_self)->dc);
    goto __pyx_L2;
  }
  __pyx_L2:;

  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("keynote.deckey.__dealloc__");
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_n_knerrno;

static PyObject *__pyx_f_7keynote_13keynote_error___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7keynote_13keynote_error___init__ = {"__init__", (PyCFunction)__pyx_f_7keynote_13keynote_error___init__, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_f_7keynote_13keynote_error___init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_v_knerrno = 0;
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {"self","knerrno",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_self, &__pyx_v_knerrno)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_knerrno);

  /* "/home/argp/projects/pykeynote/keynote.pyx":810 */
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_knerrno, __pyx_v_knerrno) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 810; goto __pyx_L1;}

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("keynote.keynote_error.__init__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_knerrno);
  return __pyx_r;
}

static PyObject *__pyx_k67p;
static PyObject *__pyx_k68p;
static PyObject *__pyx_k69p;
static PyObject *__pyx_k70p;

static char (__pyx_k67[]) = "memory allocation or usage error";
static char (__pyx_k68[]) = "syntactic or logical error";
static char (__pyx_k69[]) = "nonexistent structure or entry";
static char (__pyx_k70[]) = "unknown error (%s)";

static PyObject *__pyx_f_7keynote_13keynote_error___str__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyMethodDef __pyx_mdef_7keynote_13keynote_error___str__ = {"__str__", (PyCFunction)__pyx_f_7keynote_13keynote_error___str__, METH_VARARGS|METH_KEYWORDS, 0};
static PyObject *__pyx_f_7keynote_13keynote_error___str__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_self = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  static char *__pyx_argnames[] = {"self",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_self)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/home/argp/projects/pykeynote/keynote.pyx":813 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_knerrno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_MEMORY); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_1, __pyx_2, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 813; goto __pyx_L1;}
  __pyx_3 = __pyx_3 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":814 */
    Py_INCREF(__pyx_k67p);
    __pyx_r = __pyx_k67p;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_knerrno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 815; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_SYNTAX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 815; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_1, __pyx_2, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 815; goto __pyx_L1;}
  __pyx_3 = __pyx_3 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":816 */
    Py_INCREF(__pyx_k68p);
    __pyx_r = __pyx_k68p;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_knerrno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_ERROR_NOTFOUND); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_1, __pyx_2, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 817; goto __pyx_L1;}
  __pyx_3 = __pyx_3 == 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_3) {

    /* "/home/argp/projects/pykeynote/keynote.pyx":818 */
    Py_INCREF(__pyx_k69p);
    __pyx_r = __pyx_k69p;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/home/argp/projects/pykeynote/keynote.pyx":820 */
    __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n_knerrno); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 820; goto __pyx_L1;}
    __pyx_2 = PyNumber_Remainder(__pyx_k70p, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 820; goto __pyx_L1;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("keynote.keynote_error.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_ASSERT_FLAG_LOCAL, "ASSERT_FLAG_LOCAL"},
  {&__pyx_n_ASSERT_FLAG_SIGGEN, "ASSERT_FLAG_SIGGEN"},
  {&__pyx_n_ASSERT_FLAG_SIGVER, "ASSERT_FLAG_SIGVER"},
  {&__pyx_n_BSD, "BSD"},
  {&__pyx_n_ENCODING_BASE64, "ENCODING_BASE64"},
  {&__pyx_n_ENCODING_HEX, "ENCODING_HEX"},
  {&__pyx_n_ENCODING_NATIVE, "ENCODING_NATIVE"},
  {&__pyx_n_ENCODING_NONE, "ENCODING_NONE"},
  {&__pyx_n_ENVIRONMENT_FLAG_FUNC, "ENVIRONMENT_FLAG_FUNC"},
  {&__pyx_n_ENVIRONMENT_FLAG_REGEX, "ENVIRONMENT_FLAG_REGEX"},
  {&__pyx_n_ERROR_MEMORY, "ERROR_MEMORY"},
  {&__pyx_n_ERROR_NOTFOUND, "ERROR_NOTFOUND"},
  {&__pyx_n_ERROR_SIGN_FAILURE, "ERROR_SIGN_FAILURE"},
  {&__pyx_n_ERROR_SYNTAX, "ERROR_SYNTAX"},
  {&__pyx_n_False, "False"},
  {&__pyx_n_INTERNAL_ENC_ASN1, "INTERNAL_ENC_ASN1"},
  {&__pyx_n_INTERNAL_ENC_NATIVE, "INTERNAL_ENC_NATIVE"},
  {&__pyx_n_INTERNAL_ENC_NONE, "INTERNAL_ENC_NONE"},
  {&__pyx_n_INTERNAL_ENC_PKCS1, "INTERNAL_ENC_PKCS1"},
  {&__pyx_n_KEYNOTE_ALGORITHM_BINARY, "KEYNOTE_ALGORITHM_BINARY"},
  {&__pyx_n_KEYNOTE_ALGORITHM_DSA, "KEYNOTE_ALGORITHM_DSA"},
  {&__pyx_n_KEYNOTE_ALGORITHM_ELGAMAL, "KEYNOTE_ALGORITHM_ELGAMAL"},
  {&__pyx_n_KEYNOTE_ALGORITHM_NONE, "KEYNOTE_ALGORITHM_NONE"},
  {&__pyx_n_KEYNOTE_ALGORITHM_PGP, "KEYNOTE_ALGORITHM_PGP"},
  {&__pyx_n_KEYNOTE_ALGORITHM_RSA, "KEYNOTE_ALGORITHM_RSA"},
  {&__pyx_n_KEYNOTE_ALGORITHM_UNSPEC, "KEYNOTE_ALGORITHM_UNSPEC"},
  {&__pyx_n_KEYNOTE_ALGORITHM_X509, "KEYNOTE_ALGORITHM_X509"},
  {&__pyx_n_KEYNOTE_CALLBACK_CLEANUP, "KEYNOTE_CALLBACK_CLEANUP"},
  {&__pyx_n_KEYNOTE_CALLBACK_INITIALIZE, "KEYNOTE_CALLBACK_INITIALIZE"},
  {&__pyx_n_KEYNOTE_ERROR_ANY, "KEYNOTE_ERROR_ANY"},
  {&__pyx_n_KEYNOTE_ERROR_MEMORY, "KEYNOTE_ERROR_MEMORY"},
  {&__pyx_n_KEYNOTE_ERROR_SIGNATURE, "KEYNOTE_ERROR_SIGNATURE"},
  {&__pyx_n_KEYNOTE_ERROR_SYNTAX, "KEYNOTE_ERROR_SYNTAX"},
  {&__pyx_n_KEYNOTE_PRIVATE_KEY, "KEYNOTE_PRIVATE_KEY"},
  {&__pyx_n_KEYNOTE_PUBLIC_KEY, "KEYNOTE_PUBLIC_KEY"},
  {&__pyx_n_KEYNOTE_VERSION_STRING, "KEYNOTE_VERSION_STRING"},
  {&__pyx_n_RESULT_FALSE, "RESULT_FALSE"},
  {&__pyx_n_RESULT_TRUE, "RESULT_TRUE"},
  {&__pyx_n_RuntimeError, "RuntimeError"},
  {&__pyx_n_SIGRESULT_FALSE, "SIGRESULT_FALSE"},
  {&__pyx_n_SIGRESULT_TRUE, "SIGRESULT_TRUE"},
  {&__pyx_n_SIGRESULT_UNTOUCHED, "SIGRESULT_UNTOUCHED"},
  {&__pyx_n_SIG_DSA_SHA1_BASE64, "SIG_DSA_SHA1_BASE64"},
  {&__pyx_n_SIG_DSA_SHA1_BASE64_LEN, "SIG_DSA_SHA1_BASE64_LEN"},
  {&__pyx_n_SIG_DSA_SHA1_HEX, "SIG_DSA_SHA1_HEX"},
  {&__pyx_n_SIG_DSA_SHA1_HEX_LEN, "SIG_DSA_SHA1_HEX_LEN"},
  {&__pyx_n_SIG_ELGAMAL_SHA1_BASE64, "SIG_ELGAMAL_SHA1_BASE64"},
  {&__pyx_n_SIG_ELGAMAL_SHA1_BASE64_LEN, "SIG_ELGAMAL_SHA1_BASE64_LEN"},
  {&__pyx_n_SIG_ELGAMAL_SHA1_HEX, "SIG_ELGAMAL_SHA1_HEX"},
  {&__pyx_n_SIG_ELGAMAL_SHA1_HEX_LEN, "SIG_ELGAMAL_SHA1_HEX_LEN"},
  {&__pyx_n_SIG_PGP_NATIVE, "SIG_PGP_NATIVE"},
  {&__pyx_n_SIG_PGP_NATIVE_LEN, "SIG_PGP_NATIVE_LEN"},
  {&__pyx_n_SIG_RSA_MD5_PKCS1_BASE64, "SIG_RSA_MD5_PKCS1_BASE64"},
  {&__pyx_n_SIG_RSA_MD5_PKCS1_BASE64_LEN, "SIG_RSA_MD5_PKCS1_BASE64_LEN"},
  {&__pyx_n_SIG_RSA_MD5_PKCS1_HEX, "SIG_RSA_MD5_PKCS1_HEX"},
  {&__pyx_n_SIG_RSA_MD5_PKCS1_HEX_LEN, "SIG_RSA_MD5_PKCS1_HEX_LEN"},
  {&__pyx_n_SIG_RSA_SHA1_PKCS1_BASE64, "SIG_RSA_SHA1_PKCS1_BASE64"},
  {&__pyx_n_SIG_RSA_SHA1_PKCS1_BASE64_LEN, "SIG_RSA_SHA1_PKCS1_BASE64_LEN"},
  {&__pyx_n_SIG_RSA_SHA1_PKCS1_HEX, "SIG_RSA_SHA1_PKCS1_HEX"},
  {&__pyx_n_SIG_RSA_SHA1_PKCS1_HEX_LEN, "SIG_RSA_SHA1_PKCS1_HEX_LEN"},
  {&__pyx_n_SIG_X509_SHA1_BASE64, "SIG_X509_SHA1_BASE64"},
  {&__pyx_n_SIG_X509_SHA1_BASE64_LEN, "SIG_X509_SHA1_BASE64_LEN"},
  {&__pyx_n_SIG_X509_SHA1_HEX, "SIG_X509_SHA1_HEX"},
  {&__pyx_n_SIG_X509_SHA1_HEX_LEN, "SIG_X509_SHA1_HEX_LEN"},
  {&__pyx_n_True, "True"},
  {&__pyx_n_ValueError, "ValueError"},
  {&__pyx_n__KEYNOTE_CALLBACK_CLEANUP, "_KEYNOTE_CALLBACK_CLEANUP"},
  {&__pyx_n__KEYNOTE_CALLBACK_INITIALIZE, "_KEYNOTE_CALLBACK_INITIALIZE"},
  {&__pyx_n___author__, "__author__"},
  {&__pyx_n___callback_cleanup, "__callback_cleanup"},
  {&__pyx_n___copyright__, "__copyright__"},
  {&__pyx_n___init__, "__init__"},
  {&__pyx_n___license__, "__license__"},
  {&__pyx_n___str__, "__str__"},
  {&__pyx_n___url__, "__url__"},
  {&__pyx_n___version__, "__version__"},
  {&__pyx_n_add_action, "add_action"},
  {&__pyx_n_algorithm, "algorithm"},
  {&__pyx_n_append, "append"},
  {&__pyx_n_find, "find"},
  {&__pyx_n_isinstance, "isinstance"},
  {&__pyx_n_key, "key"},
  {&__pyx_n_keynote_error, "keynote_error"},
  {&__pyx_n_keytype, "keytype"},
  {&__pyx_n_knerrno, "knerrno"},
  {&__pyx_n_len, "len"},
  {&__pyx_n_remove, "remove"},
  {&__pyx_n_remove_action, "remove_action"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k5p, __pyx_k5, sizeof(__pyx_k5)},
  {&__pyx_k6p, __pyx_k6, sizeof(__pyx_k6)},
  {&__pyx_k8p, __pyx_k8, sizeof(__pyx_k8)},
  {&__pyx_k9p, __pyx_k9, sizeof(__pyx_k9)},
  {&__pyx_k10p, __pyx_k10, sizeof(__pyx_k10)},
  {&__pyx_k11p, __pyx_k11, sizeof(__pyx_k11)},
  {&__pyx_k12p, __pyx_k12, sizeof(__pyx_k12)},
  {&__pyx_k13p, __pyx_k13, sizeof(__pyx_k13)},
  {&__pyx_k14p, __pyx_k14, sizeof(__pyx_k14)},
  {&__pyx_k15p, __pyx_k15, sizeof(__pyx_k15)},
  {&__pyx_k16p, __pyx_k16, sizeof(__pyx_k16)},
  {&__pyx_k17p, __pyx_k17, sizeof(__pyx_k17)},
  {&__pyx_k18p, __pyx_k18, sizeof(__pyx_k18)},
  {&__pyx_k19p, __pyx_k19, sizeof(__pyx_k19)},
  {&__pyx_k20p, __pyx_k20, sizeof(__pyx_k20)},
  {&__pyx_k21p, __pyx_k21, sizeof(__pyx_k21)},
  {&__pyx_k36p, __pyx_k36, sizeof(__pyx_k36)},
  {&__pyx_k37p, __pyx_k37, sizeof(__pyx_k37)},
  {&__pyx_k38p, __pyx_k38, sizeof(__pyx_k38)},
  {&__pyx_k39p, __pyx_k39, sizeof(__pyx_k39)},
  {&__pyx_k40p, __pyx_k40, sizeof(__pyx_k40)},
  {&__pyx_k41p, __pyx_k41, sizeof(__pyx_k41)},
  {&__pyx_k42p, __pyx_k42, sizeof(__pyx_k42)},
  {&__pyx_k43p, __pyx_k43, sizeof(__pyx_k43)},
  {&__pyx_k44p, __pyx_k44, sizeof(__pyx_k44)},
  {&__pyx_k45p, __pyx_k45, sizeof(__pyx_k45)},
  {&__pyx_k46p, __pyx_k46, sizeof(__pyx_k46)},
  {&__pyx_k47p, __pyx_k47, sizeof(__pyx_k47)},
  {&__pyx_k48p, __pyx_k48, sizeof(__pyx_k48)},
  {&__pyx_k49p, __pyx_k49, sizeof(__pyx_k49)},
  {&__pyx_k50p, __pyx_k50, sizeof(__pyx_k50)},
  {&__pyx_k51p, __pyx_k51, sizeof(__pyx_k51)},
  {&__pyx_k52p, __pyx_k52, sizeof(__pyx_k52)},
  {&__pyx_k53p, __pyx_k53, sizeof(__pyx_k53)},
  {&__pyx_k54p, __pyx_k54, sizeof(__pyx_k54)},
  {&__pyx_k55p, __pyx_k55, sizeof(__pyx_k55)},
  {&__pyx_k56p, __pyx_k56, sizeof(__pyx_k56)},
  {&__pyx_k57p, __pyx_k57, sizeof(__pyx_k57)},
  {&__pyx_k59p, __pyx_k59, sizeof(__pyx_k59)},
  {&__pyx_k60p, __pyx_k60, sizeof(__pyx_k60)},
  {&__pyx_k61p, __pyx_k61, sizeof(__pyx_k61)},
  {&__pyx_k62p, __pyx_k62, sizeof(__pyx_k62)},
  {&__pyx_k63p, __pyx_k63, sizeof(__pyx_k63)},
  {&__pyx_k64p, __pyx_k64, sizeof(__pyx_k64)},
  {&__pyx_k65p, __pyx_k65, sizeof(__pyx_k65)},
  {&__pyx_k66p, __pyx_k66, sizeof(__pyx_k66)},
  {&__pyx_k67p, __pyx_k67, sizeof(__pyx_k67)},
  {&__pyx_k68p, __pyx_k68, sizeof(__pyx_k68)},
  {&__pyx_k69p, __pyx_k69, sizeof(__pyx_k69)},
  {&__pyx_k70p, __pyx_k70, sizeof(__pyx_k70)},
  {0, 0, 0}
};

static PyObject *__pyx_tp_new_7keynote_keynote(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7keynote_keynote *p = (struct __pyx_obj_7keynote_keynote *)o;
  p->callbacks = Py_None; Py_INCREF(Py_None);
  if (__pyx_f_7keynote_7keynote___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7keynote_keynote(PyObject *o) {
  struct __pyx_obj_7keynote_keynote *p = (struct __pyx_obj_7keynote_keynote *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_7keynote_7keynote___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  Py_XDECREF(p->callbacks);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7keynote_keynote(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7keynote_keynote *p = (struct __pyx_obj_7keynote_keynote *)o;
  if (p->callbacks) {
    e = (*v)(p->callbacks, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7keynote_keynote(PyObject *o) {
  struct __pyx_obj_7keynote_keynote *p = (struct __pyx_obj_7keynote_keynote *)o;
  Py_XDECREF(p->callbacks);
  p->callbacks = Py_None; Py_INCREF(Py_None);
  return 0;
}

static struct PyMethodDef __pyx_methods_7keynote_keynote[] = {
  {"close", (PyCFunction)__pyx_f_7keynote_7keynote_close, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_close},
  {"read_asserts", (PyCFunction)__pyx_f_7keynote_7keynote_read_asserts, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_read_asserts},
  {"verify_assertion", (PyCFunction)__pyx_f_7keynote_7keynote_verify_assertion, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_verify_assertion},
  {"sign_assertion", (PyCFunction)__pyx_f_7keynote_7keynote_sign_assertion, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_sign_assertion},
  {"add_assertion", (PyCFunction)__pyx_f_7keynote_7keynote_add_assertion, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_add_assertion},
  {"remove_assertion", (PyCFunction)__pyx_f_7keynote_7keynote_remove_assertion, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_remove_assertion},
  {"add_authorizer", (PyCFunction)__pyx_f_7keynote_7keynote_add_authorizer, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_add_authorizer},
  {"remove_authorizer", (PyCFunction)__pyx_f_7keynote_7keynote_remove_authorizer, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_remove_authorizer},
  {"add_action", (PyCFunction)__pyx_f_7keynote_7keynote_add_action, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_add_action},
  {"remove_action", (PyCFunction)__pyx_f_7keynote_7keynote_remove_action, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_remove_action},
  {"cleanup_action_environment", (PyCFunction)__pyx_f_7keynote_7keynote_cleanup_action_environment, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_cleanup_action_environment},
  {"get_string", (PyCFunction)__pyx_f_7keynote_7keynote_get_string, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_get_string},
  {"get_authorizer", (PyCFunction)__pyx_f_7keynote_7keynote_get_authorizer, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_get_authorizer},
  {"encode_key", (PyCFunction)__pyx_f_7keynote_7keynote_encode_key, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_encode_key},
  {"decode_key", (PyCFunction)__pyx_f_7keynote_7keynote_decode_key, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_decode_key},
  {"get_licensees", (PyCFunction)__pyx_f_7keynote_7keynote_get_licensees, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_get_licensees},
  {"keycompare", (PyCFunction)__pyx_f_7keynote_7keynote_keycompare, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_keycompare},
  {"decode_hex", (PyCFunction)__pyx_f_7keynote_7keynote_decode_hex, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_decode_hex},
  {"encode_hex", (PyCFunction)__pyx_f_7keynote_7keynote_encode_hex, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_encode_hex},
  {"encode_base64", (PyCFunction)__pyx_f_7keynote_7keynote_encode_base64, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_encode_base64},
  {"decode_base64", (PyCFunction)__pyx_f_7keynote_7keynote_decode_base64, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_decode_base64},
  {"get_failed", (PyCFunction)__pyx_f_7keynote_7keynote_get_failed, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_get_failed},
  {"do_query", (PyCFunction)__pyx_f_7keynote_7keynote_do_query, METH_VARARGS|METH_KEYWORDS, __pyx_doc_7keynote_7keynote_do_query},
  {"__callback_cleanup", (PyCFunction)__pyx_f_7keynote_7keynote___callback_cleanup, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

static struct PyMemberDef __pyx_members_7keynote_keynote[] = {
  {"callbacks", T_OBJECT, offsetof(struct __pyx_obj_7keynote_keynote, callbacks), 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_keynote = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_keynote = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_keynote = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_keynote = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7keynote_keynote = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "keynote.keynote", /*tp_name*/
  sizeof(struct __pyx_obj_7keynote_keynote), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7keynote_keynote, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_keynote, /*tp_as_number*/
  &__pyx_tp_as_sequence_keynote, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_keynote, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_keynote, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "keynote() -> A KeyNote session object\n\n    Create a new KeyNote session object.\n    ", /*tp_doc*/
  __pyx_tp_traverse_7keynote_keynote, /*tp_traverse*/
  __pyx_tp_clear_7keynote_keynote, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7keynote_keynote, /*tp_methods*/
  __pyx_members_7keynote_keynote, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7keynote_keynote, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_7keynote_deckey(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_7keynote_deckey *p = (struct __pyx_obj_7keynote_deckey *)o;
  if (__pyx_f_7keynote_6deckey___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_7keynote_deckey(PyObject *o) {
  struct __pyx_obj_7keynote_deckey *p = (struct __pyx_obj_7keynote_deckey *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_7keynote_6deckey___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7keynote_deckey(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7keynote_deckey *p = (struct __pyx_obj_7keynote_deckey *)o;
  return 0;
}

static int __pyx_tp_clear_7keynote_deckey(PyObject *o) {
  struct __pyx_obj_7keynote_deckey *p = (struct __pyx_obj_7keynote_deckey *)o;
  return 0;
}

static PyObject *__pyx_getprop_7keynote_6deckey_algorithm(PyObject *o, void *x) {
  return __pyx_f_7keynote_6deckey_9algorithm___get__(o);
}

static PyObject *__pyx_getprop_7keynote_6deckey_key(PyObject *o, void *x) {
  return __pyx_f_7keynote_6deckey_3key___get__(o);
}

static PyObject *__pyx_getprop_7keynote_6deckey_keytype(PyObject *o, void *x) {
  return __pyx_f_7keynote_6deckey_7keytype___get__(o);
}

static PyObject *__pyx_getprop_7keynote_6deckey_stringkey(PyObject *o, void *x) {
  return __pyx_f_7keynote_6deckey_9stringkey___get__(o);
}

static struct PyMethodDef __pyx_methods_7keynote_deckey[] = {
  {0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7keynote_deckey[] = {
  {"algorithm", __pyx_getprop_7keynote_6deckey_algorithm, 0, __pyx_k1, 0},
  {"key", __pyx_getprop_7keynote_6deckey_key, 0, __pyx_k2, 0},
  {"keytype", __pyx_getprop_7keynote_6deckey_keytype, 0, __pyx_k3, 0},
  {"stringkey", __pyx_getprop_7keynote_6deckey_stringkey, 0, __pyx_k4, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_deckey = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_deckey = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_deckey = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_deckey = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7keynote_deckey = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "keynote.deckey", /*tp_name*/
  sizeof(struct __pyx_obj_7keynote_deckey), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7keynote_deckey, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_deckey, /*tp_as_number*/
  &__pyx_tp_as_sequence_deckey, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_deckey, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_deckey, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "deckey() -> A deckey object\n\n    Create a new deckey object for storing public/private key data.\n\n    Arguments:\n    algorithm   -- the key\'s cryptographic algorithm, can be\n                   KEYNOTE_ALGORITHM_DSA, KEYNOTE_ALGORITHM_RSA, or\n                   KEYNOTE_ALGORITHM_BINARY\n    key         -- an object that stores a pointer to a binary key\n    stringkey   -- ASCII-encoded representation of the binary key\n    keytype     -- KEYNOTE_PUBLIC_KEY or KEYNOTE_PRIVATE_KEY\n    ", /*tp_doc*/
  __pyx_tp_traverse_7keynote_deckey, /*tp_traverse*/
  __pyx_tp_clear_7keynote_deckey, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7keynote_deckey, /*tp_methods*/
  0, /*tp_members*/
  __pyx_getsets_7keynote_deckey, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7keynote_deckey, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

PyMODINIT_FUNC initkeynote(void); /*proto*/
PyMODINIT_FUNC initkeynote(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  PyObject *__pyx_7 = 0;
  PyObject *__pyx_8 = 0;
  PyObject *__pyx_9 = 0;
  PyObject *__pyx_10 = 0;
  PyObject *__pyx_11 = 0;
  PyObject *__pyx_12 = 0;
  PyObject *__pyx_13 = 0;
  PyObject *__pyx_14 = 0;
  __pyx_init_filenames();
  __pyx_m = Py_InitModule4("keynote", __pyx_methods, __pyx_mdoc, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; goto __pyx_L1;};
  __pyx_type_7keynote_keynote.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7keynote_keynote) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 186; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "keynote", (PyObject *)&__pyx_type_7keynote_keynote) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 186; goto __pyx_L1;}
  __pyx_ptype_7keynote_keynote = &__pyx_type_7keynote_keynote;
  if (PyType_Ready(&__pyx_type_7keynote_deckey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "deckey", (PyObject *)&__pyx_type_7keynote_deckey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 744; goto __pyx_L1;}
  __pyx_ptype_7keynote_deckey = &__pyx_type_7keynote_deckey;

  /* "/home/argp/projects/pykeynote/keynote.pyx":44 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___author__, __pyx_k5p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":45 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___copyright__, __pyx_k6p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 45; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":46 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___license__, __pyx_n_BSD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":47 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___url__, __pyx_k8p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":48 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___version__, __pyx_k9p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 48; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":112 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_DSA_SHA1_HEX, __pyx_k10p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 112; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":113 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_DSA_SHA1_HEX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_DSA_SHA1_HEX_LEN, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":114 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_DSA_SHA1_BASE64, __pyx_k11p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 114; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":115 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 115; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_DSA_SHA1_BASE64); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 115; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 115; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 115; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_DSA_SHA1_BASE64_LEN, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 115; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":116 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_HEX, __pyx_k12p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 116; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":117 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_HEX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_HEX_LEN, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 117; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":118 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_BASE64, __pyx_k13p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 118; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":119 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 119; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_BASE64); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 119; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 119; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 119; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_BASE64_LEN, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 119; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":120 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_MD5_PKCS1_HEX, __pyx_k14p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 120; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":121 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 121; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_RSA_MD5_PKCS1_HEX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 121; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 121; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 121; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_MD5_PKCS1_HEX_LEN, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 121; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":122 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_MD5_PKCS1_BASE64, __pyx_k15p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 122; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":123 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_RSA_MD5_PKCS1_BASE64); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_RSA_MD5_PKCS1_BASE64_LEN, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":124 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_ELGAMAL_SHA1_HEX, __pyx_k16p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 124; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":125 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_ELGAMAL_SHA1_HEX); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_ELGAMAL_SHA1_HEX_LEN, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":126 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_ELGAMAL_SHA1_BASE64, __pyx_k17p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 126; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":127 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 127; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_ELGAMAL_SHA1_BASE64); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 127; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 127; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 127; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_ELGAMAL_SHA1_BASE64_LEN, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 127; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":128 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_PGP_NATIVE, __pyx_k18p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 128; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":129 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 129; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_PGP_NATIVE); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 129; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 129; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 129; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_PGP_NATIVE_LEN, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 129; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":130 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_X509_SHA1_HEX, __pyx_k19p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":131 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_X509_SHA1_HEX); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_X509_SHA1_HEX_LEN, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":132 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_X509_SHA1_BASE64, __pyx_k20p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":133 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_len); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_X509_SHA1_BASE64); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIG_X509_SHA1_BASE64_LEN, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":135 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 135; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ENVIRONMENT_FLAG_FUNC, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 135; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":136 */
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 136; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ENVIRONMENT_FLAG_REGEX, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 136; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":138 */
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 138; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ASSERT_FLAG_LOCAL, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 138; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":139 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ASSERT_FLAG_SIGGEN, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 139; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":140 */
  __pyx_3 = PyInt_FromLong(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ASSERT_FLAG_SIGVER, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":142 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 142; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIGRESULT_UNTOUCHED, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 142; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":143 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 143; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIGRESULT_FALSE, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 143; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":144 */
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SIGRESULT_TRUE, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":146 */
  __pyx_2 = PyInt_FromLong((-1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 146; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_UNSPEC, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 146; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":147 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 147; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_NONE, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 147; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":148 */
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 148; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_DSA, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 148; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":149 */
  __pyx_2 = PyInt_FromLong(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 149; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_ELGAMAL, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 149; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":150 */
  __pyx_1 = PyInt_FromLong(3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_PGP, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":151 */
  __pyx_3 = PyInt_FromLong(4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_BINARY, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 151; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":152 */
  __pyx_2 = PyInt_FromLong(5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_X509, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":153 */
  __pyx_1 = PyInt_FromLong(6); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ALGORITHM_RSA, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":155 */
  __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 155; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ERROR_ANY, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 155; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":156 */
  __pyx_2 = PyInt_FromLong(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ERROR_SYNTAX, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":157 */
  __pyx_1 = PyInt_FromLong(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 157; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ERROR_MEMORY, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 157; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":158 */
  __pyx_3 = PyInt_FromLong(3); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 158; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_ERROR_SIGNATURE, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 158; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":160 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 160; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ENCODING_NONE, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 160; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":161 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 161; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ENCODING_HEX, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 161; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":162 */
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 162; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ENCODING_BASE64, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 162; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":163 */
  __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 163; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ENCODING_NATIVE, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 163; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":165 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 165; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_RESULT_FALSE, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 165; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":166 */
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 166; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_RESULT_TRUE, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 166; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":168 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 168; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_INTERNAL_ENC_NONE, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 168; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":169 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_INTERNAL_ENC_PKCS1, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":170 */
  __pyx_3 = PyInt_FromLong(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 170; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_INTERNAL_ENC_ASN1, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 170; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":171 */
  __pyx_2 = PyInt_FromLong(3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 171; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_INTERNAL_ENC_NATIVE, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 171; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":173 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 173; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_PUBLIC_KEY, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 173; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":174 */
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_PRIVATE_KEY, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":176 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_VERSION_STRING, __pyx_k21p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":178 */
  __pyx_2 = PyInt_FromLong((-1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ERROR_MEMORY, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":179 */
  __pyx_1 = PyInt_FromLong((-2)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ERROR_SYNTAX, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":180 */
  __pyx_3 = PyInt_FromLong((-3)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 180; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ERROR_NOTFOUND, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 180; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":181 */
  __pyx_2 = PyInt_FromLong((-4)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_ERROR_SIGN_FAILURE, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":183 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_CALLBACK_INITIALIZE, __pyx_n__KEYNOTE_CALLBACK_INITIALIZE) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":184 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_KEYNOTE_CALLBACK_CLEANUP, __pyx_n__KEYNOTE_CALLBACK_CLEANUP) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 184; goto __pyx_L1;}

  /* "/home/argp/projects/pykeynote/keynote.pyx":272 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_SIG_RSA_SHA1_PKCS1_HEX); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 273; goto __pyx_L1;}
  __pyx_k24 = __pyx_1;
  __pyx_1 = 0;
  __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 273; goto __pyx_L1;}
  __pyx_k25 = __pyx_3;
  __pyx_3 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":297 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 297; goto __pyx_L1;}
  __pyx_k26 = __pyx_2;
  __pyx_2 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":359 */
  __pyx_4 = PyInt_FromLong(0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 359; goto __pyx_L1;}
  __pyx_k27 = __pyx_4;
  __pyx_4 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":454 */
  __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_INTERNAL_ENC_PKCS1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; goto __pyx_L1;}
  __pyx_k28 = __pyx_5;
  __pyx_5 = 0;
  __pyx_6 = __Pyx_GetName(__pyx_m, __pyx_n_ENCODING_HEX); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 455; goto __pyx_L1;}
  __pyx_k29 = __pyx_6;
  __pyx_6 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":484 */
  __pyx_7 = __Pyx_GetName(__pyx_m, __pyx_n_KEYNOTE_PUBLIC_KEY); if (!__pyx_7) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
  __pyx_k30 = __pyx_7;
  __pyx_7 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":660 */
  __pyx_8 = __Pyx_GetName(__pyx_m, __pyx_n_KEYNOTE_ERROR_ANY); if (!__pyx_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 660; goto __pyx_L1;}
  __pyx_k31 = __pyx_8;
  __pyx_8 = 0;
  __pyx_9 = PyInt_FromLong(0); if (!__pyx_9) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 660; goto __pyx_L1;}
  __pyx_k32 = __pyx_9;
  __pyx_9 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":761 */
  Py_INCREF(Py_None);
  __pyx_k33 = Py_None;
  __pyx_10 = __Pyx_GetName(__pyx_m, __pyx_n_KEYNOTE_PUBLIC_KEY); if (!__pyx_10) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 762; goto __pyx_L1;}
  __pyx_k34 = __pyx_10;
  __pyx_10 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":801 */
  __pyx_11 = PyDict_New(); if (!__pyx_11) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; goto __pyx_L1;}
  __pyx_12 = __Pyx_GetName(__pyx_b, __pyx_n_RuntimeError); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; goto __pyx_L1;}
  __pyx_13 = PyTuple_New(1); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_13, 0, __pyx_12);
  __pyx_12 = 0;
  if (PyDict_SetItemString(__pyx_11, "__doc__", __pyx_k36p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; goto __pyx_L1;}
  __pyx_12 = __Pyx_CreateClass(__pyx_13, __pyx_11, __pyx_n_keynote_error, "keynote"); if (!__pyx_12) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; goto __pyx_L1;}
  Py_DECREF(__pyx_13); __pyx_13 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":809 */
  __pyx_13 = PyCFunction_New(&__pyx_mdef_7keynote_13keynote_error___init__, 0); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 809; goto __pyx_L1;}
  __pyx_14 = PyMethod_New(__pyx_13, 0, __pyx_12); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 809; goto __pyx_L1;}
  Py_DECREF(__pyx_13); __pyx_13 = 0;
  if (PyObject_SetAttr(__pyx_12, __pyx_n___init__, __pyx_14) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 809; goto __pyx_L1;}
  Py_DECREF(__pyx_14); __pyx_14 = 0;

  /* "/home/argp/projects/pykeynote/keynote.pyx":812 */
  __pyx_13 = PyCFunction_New(&__pyx_mdef_7keynote_13keynote_error___str__, 0); if (!__pyx_13) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
  __pyx_14 = PyMethod_New(__pyx_13, 0, __pyx_12); if (!__pyx_14) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
  Py_DECREF(__pyx_13); __pyx_13 = 0;
  if (PyObject_SetAttr(__pyx_12, __pyx_n___str__, __pyx_14) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 812; goto __pyx_L1;}
  Py_DECREF(__pyx_14); __pyx_14 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_keynote_error, __pyx_12) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 801; goto __pyx_L1;}
  Py_DECREF(__pyx_12); __pyx_12 = 0;
  Py_DECREF(__pyx_11); __pyx_11 = 0;
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  Py_XDECREF(__pyx_7);
  Py_XDECREF(__pyx_8);
  Py_XDECREF(__pyx_9);
  Py_XDECREF(__pyx_10);
  Py_XDECREF(__pyx_11);
  Py_XDECREF(__pyx_12);
  Py_XDECREF(__pyx_13);
  Py_XDECREF(__pyx_14);
  __Pyx_AddTraceback("keynote");
}

static char *__pyx_filenames[] = {
  "keynote.pyx",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static PyObject *__Pyx_CreateClass(
    PyObject *bases, PyObject *dict, PyObject *name, char *modname)
{
    PyObject *py_modname;
    PyObject *result = 0;
    
    py_modname = PyString_FromString(modname);
    if (!py_modname)
        goto bad;
    if (PyDict_SetItemString(dict, "__module__", py_modname) < 0)
        goto bad;
    result = PyClass_New(bases, dict, name);
bad:
    Py_XDECREF(py_modname);
    return result;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    /* Next, repeatedly, replace a tuple exception with its first item */
    while (PyTuple_Check(type) && PyTuple_Size(type) > 0) {
        PyObject *tmp = type;
        type = PyTuple_GET_ITEM(type, 0);
        Py_INCREF(type);
        Py_DECREF(tmp);
    }
    if (PyString_Check(type))
        ;
    else if (PyClass_Check(type))
        ; /*PyErr_NormalizeException(&type, &value, &tb);*/
    else if (PyInstance_Check(type)) {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
              "instance exception may not have a separate value");
            goto raise_error;
        }
        else {
            /* Normalize to raise <class>, <instance> */
            Py_DECREF(value);
            value = type;
            type = (PyObject*) ((PyInstanceObject*)type)->in_class;
            Py_INCREF(type);
        }
    }
    else {
        /* Not something you can raise.  You get an exception
           anyway, just not what you specified :-) */
        PyErr_Format(PyExc_TypeError,
                 "exceptions must be strings, classes, or "
                 "instances, not %s", type->ob_type->tp_name);
        goto raise_error;
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static void __Pyx_UnpackError(void) {
    PyErr_SetString(PyExc_ValueError, "unpack sequence of wrong size");
}

static PyObject *__Pyx_UnpackItem(PyObject *seq, int i) {
  PyObject *item;
  if (!(item = PySequence_GetItem(seq, i))) {
    if (PyErr_ExceptionMatches(PyExc_IndexError))
    	__Pyx_UnpackError();
  }
  return item;
}

static int __Pyx_EndUnpack(PyObject *seq, int i) {
  PyObject *item;
  if (item = PySequence_GetItem(seq, i)) {
    Py_DECREF(item);
    __Pyx_UnpackError();
    return -1;
  }
  PyErr_Clear();
    return 0;
}

static PyObject *__Pyx_GetExcValue(void) {
    PyObject *type = 0, *value = 0, *tb = 0;
    PyObject *result = 0;
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(&type, &value, &tb);
    PyErr_NormalizeException(&type, &value, &tb);
    if (PyErr_Occurred())
        goto bad;
    if (!value) {
        value = Py_None;
        Py_INCREF(value);
    }
    Py_XDECREF(tstate->exc_type);
    Py_XDECREF(tstate->exc_value);
    Py_XDECREF(tstate->exc_traceback);
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    result = value;
    Py_XINCREF(result);
    type = 0;
    value = 0;
    tb = 0;
bad:
    Py_XDECREF(type);
    Py_XDECREF(value);
    Py_XDECREF(tb);
    return result;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
